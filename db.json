{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"source/images/background.jpg","path":"images/background.jpg","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/js/algolia-search.js","path":"js/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/bookmark.js","path":"js/bookmark.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/local-search.js","path":"js/local-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/motion.js","path":"js/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/next-boot.js","path":"js/next-boot.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/schedule.js","path":"js/schedule.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","path":"images/logo-algolia-nebula-blue-full.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/js/schemes/muse.js","path":"js/schemes/muse.js","modified":1,"renderable":1}],"Cache":[{"_id":"source/about/index.md","hash":"0c42923da68c963a4bc5b2d2f86615cb716c14e9","modified":1615535756139},{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1615535756136},{"_id":"source/_data/styles.styl","hash":"1c29df2f57232ec9ce66a60dcbe607076e7b1365","modified":1615536716803},{"_id":"source/categories/index.md","hash":"6b994821608dc47087abad6be7d80f956b1609e2","modified":1615535756099},{"_id":"source/tags/index.md","hash":"b8f6f5e7ea7c5bae57a28a6bec437f6bccca8062","modified":1615535756140},{"_id":"source/_posts/php/2016-06-12-composer.md","hash":"951938d5adda62c8b151ff5aadc83b3b13507c8c","modified":1615535756136},{"_id":"source/_posts/php/2021-03-10-app-pay.md","hash":"df16a5af60244949062699c6e97b39cafe61b02e","modified":1615535756136},{"_id":"source/_posts/linux/2021-03-12-centos-network-manager.md","hash":"ad137d9924dd6016b5cd338389b3b19ae93014a4","modified":1615687681788},{"_id":"source/_posts/php/2017-09-21-php-extensions.md","hash":"735cb1b23542a5576ba5023e14d1e6fc00c5002a","modified":1615539745601},{"_id":"source/images/background.jpg","hash":"a5d01e4e6c002350063df956bf2453470d11e8ad","modified":1615535756133},{"_id":"themes/next/.eslintrc.json","hash":"9c0762486f24a8c5e60f8b6c875e4c4728942649","modified":1615535756150},{"_id":"themes/next/.editorconfig","hash":"8570735a8d8d034a3a175afd1dd40b39140b3e6a","modified":1615535756286},{"_id":"themes/next/.gitignore","hash":"4600f2b61b2fe0d61f824bda9aa2b5d072f0e635","modified":1615535756514},{"_id":"themes/next/.gitattributes","hash":"ec43734985e1cafd53d88ded3020103f7416123c","modified":1615535756150},{"_id":"themes/next/.stylintrc","hash":"2cf4d637b56d8eb423f59656a11f6403aa90f550","modified":1615535756150},{"_id":"themes/next/_vendors.yml","hash":"d07d885e59ac5f0a56495c01a305ebe016431d53","modified":1615535756214},{"_id":"themes/next/LICENSE.md","hash":"68fc9a03d50fd4b5ea97092b05967d1819dea2c4","modified":1615535756230},{"_id":"themes/next/package.json","hash":"44f7ceb75f36ab8bd014f10d6f767c7f7a7759f3","modified":1615535756514},{"_id":"themes/next/README.md","hash":"de109b73e09826f6bccceae60c618739a794f8f7","modified":1615535756287},{"_id":"themes/next/_config.yml","hash":"2ed356eea541931b4def5577aa3b55e23a661887","modified":1615535756514},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1615535756514},{"_id":"themes/next/renovate.json","hash":"cb29cc16e61b0b8a6dac34657d76822ae29ad5aa","modified":1615535756287},{"_id":"themes/next/.github/CODE_OF_CONDUCT.md","hash":"21cbff565a0445d3a880fff1ee417e309740a9ab","modified":1615535756406},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"3e9fbb78e3dee0ca1dc886d0c28b0148ba0ca499","modified":1615535756418},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"eefd073dfb68884cd946f7ec6d3b3619031d7650","modified":1615535756421},{"_id":"themes/next/.github/config.yml","hash":"7984e665e9de481a0e0e51fca5668337713f810b","modified":1615535756421},{"_id":"themes/next/.github/issue_label_bot.yaml","hash":"fca600ddef6f80c5e61aeed21722d191e5606e5b","modified":1615535756406},{"_id":"themes/next/.github/label-commenter-config.yml","hash":"1097fc47beeacfc1edb0248c27b17bf64bde3565","modified":1615535756421},{"_id":"themes/next/.github/labeler.yml","hash":"e7033752b1f7c35adb61c2b38aad0a9202cdd19b","modified":1615535756421},{"_id":"themes/next/.github/release-drafter.yml","hash":"7662e31224a24154c4fe06b95ccbdff51ab8f2cc","modified":1615535756421},{"_id":"themes/next/languages/README.md","hash":"b2567e32805dda79601157351a07e5ca9fe01315","modified":1615535756515},{"_id":"themes/next/languages/ar.yml","hash":"7a62243ec54196e3d1bea7364f05aded490bc234","modified":1615535756515},{"_id":"themes/next/languages/default.yml","hash":"48a76170d70ef7c1fac96720bc5064b43061708d","modified":1615535756515},{"_id":"themes/next/languages/de.yml","hash":"dc448f724c7d436233e9567711a09e0d56e60e3b","modified":1615535756518},{"_id":"themes/next/languages/en.yml","hash":"48a76170d70ef7c1fac96720bc5064b43061708d","modified":1615535756515},{"_id":"themes/next/languages/es.yml","hash":"c3506dfaa771e827ae6adb322477c6e835cd0f09","modified":1615535756515},{"_id":"themes/next/languages/fr.yml","hash":"8ddfe98e7847ee8f1eaba9119f9fbdc42d7ec120","modified":1615535756515},{"_id":"themes/next/languages/id.yml","hash":"ac018805190bc4bdc06091f5a6444e612fc700b0","modified":1615535756515},{"_id":"themes/next/languages/fa.yml","hash":"649823297167b902455c0aec8ddebb462df71c7d","modified":1615535756518},{"_id":"themes/next/languages/it.yml","hash":"82a93c32b3fcf6517441cdc73f75bc6173beb392","modified":1615535756516},{"_id":"themes/next/languages/ko.yml","hash":"8342df2f4190ba4ee004b70d1d6ccd341033dbe7","modified":1615535756516},{"_id":"themes/next/languages/ja.yml","hash":"99f6f84f5cb6631b7ae0b5594af2ea2940c3558e","modified":1615535756518},{"_id":"themes/next/languages/nl.yml","hash":"0d3b56613197cb190900311507535db41daec7d4","modified":1615535756516},{"_id":"themes/next/languages/pt-BR.yml","hash":"47daeaa23c4db073e77761c9a6f62d3932af06ec","modified":1615535756517},{"_id":"themes/next/languages/pt.yml","hash":"e0e2675261e2e80f7ce7d19c945c08217b068d81","modified":1615535756517},{"_id":"themes/next/languages/ru.yml","hash":"fdf5c623890db24cb56ab5ffe0c49db3542477c8","modified":1615535756518},{"_id":"themes/next/languages/si.yml","hash":"0afecef3d81b880cc19769062968d8562a1cd93b","modified":1615535756516},{"_id":"themes/next/languages/tr.yml","hash":"54de3d8d85e3c7b14b163c3d322411b7301a09b3","modified":1615535756518},{"_id":"themes/next/languages/uk.yml","hash":"1c9a0b8d8160c77cc62064207d57f460f365cae9","modified":1615535756517},{"_id":"themes/next/languages/vi.yml","hash":"1f9657b58e11db21f93eb895c90123b8f91751a7","modified":1615535756517},{"_id":"themes/next/languages/zh-CN.yml","hash":"e891a1b020c6152a9521b409dcd78713e8acd011","modified":1615535756517},{"_id":"themes/next/languages/zh-TW.yml","hash":"8d6f8d90aedcc5c844da93e196bfde0c0161385b","modified":1615535756516},{"_id":"themes/next/languages/zh-HK.yml","hash":"38b99be8cea1cfd79f36deca13be665dedfad9c5","modified":1615535756517},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1615535756275},{"_id":"themes/next/docs/AUTHORS.md","hash":"a648823121563c34a177ae91f5a774b5e29f01a0","modified":1615535756275},{"_id":"themes/next/layout/_layout.njk","hash":"6915e19058b4b4e2b71707cb5ac6c936ef075e89","modified":1615535756151},{"_id":"themes/next/docs/LICENSE.txt","hash":"f5b14f791b7cfa1d16da981d929152e088a5d1b8","modified":1615535756275},{"_id":"themes/next/layout/index.njk","hash":"37ec3d1bcd20b8ac1d18e0d68f990450890b46cd","modified":1615535756209},{"_id":"themes/next/layout/archive.njk","hash":"d759f4d2cf5ddc6875ea250113a00662c1caf6d1","modified":1615535756180},{"_id":"themes/next/layout/category.njk","hash":"0a590e87af50e57b15fc37695c9a3bf4a97c3d92","modified":1615535756175},{"_id":"themes/next/layout/post.njk","hash":"6abeb85fb3e4c382ed4bb6049b12a807e6226e67","modified":1615535756209},{"_id":"themes/next/scripts/events/index.js","hash":"89091bc943cd8b8c63b8af3d26fb0a027048e9ba","modified":1615535756238},{"_id":"themes/next/scripts/filters/default-injects.js","hash":"872f01cb10e422a648ea505436532e776e92926b","modified":1615535756250},{"_id":"themes/next/scripts/filters/locals.js","hash":"fa1e558f058f93455acdd553ab1be30b26f137e4","modified":1615535756250},{"_id":"themes/next/scripts/filters/minify.js","hash":"be0574c64a38210e449c99d38a760452015060a3","modified":1615535756250},{"_id":"themes/next/scripts/filters/post.js","hash":"bac5646993153f9f6a630c9f0052bb17fa760a9c","modified":1615535756250},{"_id":"themes/next/scripts/helpers/engine.js","hash":"819fc2707070b5ddbbb042986da25f4bcbe93a17","modified":1615535756231},{"_id":"themes/next/scripts/helpers/font.js","hash":"3394185a7f0393c16ce52c8028f90da3e9239c55","modified":1615535756233},{"_id":"themes/next/scripts/helpers/next-config.js","hash":"413c51fa3caa87fe95d1d8f95e6023f096515632","modified":1615535756231},{"_id":"themes/next/scripts/helpers/next-url.js","hash":"577c510374cf9bcfa8d3a1027e42411a9324805e","modified":1615535756231},{"_id":"themes/next/scripts/helpers/next-vendors.js","hash":"afdd6a188a74c188f0dd154fac70efd4080ca262","modified":1615535756231},{"_id":"themes/next/scripts/tags/button.js","hash":"c6ad2ed544fbb25ecb5d820c36e76302504271b7","modified":1615535756261},{"_id":"themes/next/scripts/tags/caniuse.js","hash":"935a311142a409c1896b3ae3f01fe7a9e2db1134","modified":1615535756258},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"92c19d796bdb3320df9caea59bf52df7a95d9da9","modified":1615535756262},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"79102d9e9bccff6224e77a77c4d2d363094ae3df","modified":1615535756261},{"_id":"themes/next/scripts/tags/index.js","hash":"17f9451ce1f10f78437f52218757d38d4e1591b0","modified":1615535756258},{"_id":"themes/next/scripts/tags/label.js","hash":"8a73348186113bae0a51ea2f891c1bb882fab05a","modified":1615535756257},{"_id":"themes/next/scripts/tags/link-grid.js","hash":"9e2c58d1a4d1dd84fa86144e5b4576b2fd10a37f","modified":1615535756258},{"_id":"themes/next/scripts/tags/mermaid.js","hash":"464effc08e757ce8e1bb094707d06ad829af9d62","modified":1615535756257},{"_id":"themes/next/scripts/tags/note.js","hash":"7b94ddb46b7d4b0fe815f2fbe4bd375f07f55363","modified":1615535756258},{"_id":"themes/next/scripts/tags/pdf.js","hash":"344636b6fd7e27e8831c1e194039afc0d61931cd","modified":1615535756261},{"_id":"themes/next/scripts/tags/tabs.js","hash":"2bf00d56b3b289a7dd27e9b5820430a2457a19f3","modified":1615535756261},{"_id":"themes/next/scripts/tags/video.js","hash":"2ee926448583be8f95af1f2884ae2c9c4830151d","modified":1615535756258},{"_id":"themes/next/layout/page.njk","hash":"9cd3eca2c468bb46c7c5bf391bea4b025af178f6","modified":1615535756151},{"_id":"themes/next/layout/tag.njk","hash":"6cd707f846bfd6becbcfb060c26958bb4015c31f","modified":1615535756210},{"_id":"themes/next/test/index.js","hash":"6bf0289846538be3e9a63809af98f00e1fbdd90b","modified":1615535756226},{"_id":"themes/next/.github/ISSUE_TEMPLATE/bug-report.md","hash":"fc4dce84ed9a5d21d3a8833ff6d776c46f876115","modified":1615535756418},{"_id":"themes/next/.github/ISSUE_TEMPLATE/config.yml","hash":"c40ae7903b6cc99f94c9d45ac7ba8c2850bb1309","modified":1615535756418},{"_id":"themes/next/.github/ISSUE_TEMPLATE/feature-request.md","hash":"4ecac91716eac59d7c2bc53cf6e95612d44da97b","modified":1615535756418},{"_id":"themes/next/.github/ISSUE_TEMPLATE/other.md","hash":"8cc5b5c116f6a052865a324512362f145d699202","modified":1615535756418},{"_id":"themes/next/.github/workflows/label-commenter.yml","hash":"a33cd7c7644c8e89c885545ddafc437274ff64ff","modified":1615535756415},{"_id":"themes/next/.github/workflows/labeler.yml","hash":"8b73c439dc796be141d521a4546bcfb7a5485534","modified":1615535756415},{"_id":"themes/next/.github/workflows/linter.yml","hash":"a3019edd2185c4c287a682fdd76043e107ed927b","modified":1615535756406},{"_id":"themes/next/.github/workflows/lock.yml","hash":"70bd0be3f33774e4b0ada3a59c901f8f9cff1013","modified":1615535756415},{"_id":"themes/next/.github/workflows/release-drafter.yml","hash":"4f3af81009cb922be91f718a67425377515ea69d","modified":1615535756406},{"_id":"themes/next/.github/workflows/stale.yml","hash":"e1d9cc9addc35cfb53f971f14d9d04065c941df0","modified":1615535756415},{"_id":"themes/next/.github/workflows/tester.yml","hash":"7e01aae101be8726f869efbb29ba9ef9ad569cd1","modified":1615535756415},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"7a06d443f374bd1e84294067a0ac796afd9fbe60","modified":1615535756271},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"8ee5ca39ac4a372a5c0f16e344bbe578af4aeae4","modified":1615535756271},{"_id":"themes/next/docs/zh-CN/README.md","hash":"9abd8473985f2bf1557b1aac31b436c92d5450a7","modified":1615535756271},{"_id":"themes/next/docs/ru/README.md","hash":"63df0665005063108e1bc19df3cf8c4e46facb95","modified":1615535756275},{"_id":"themes/next/layout/_macro/post-collapse.njk","hash":"1a30d751871dabfa80940042ddb1f77d07d830b9","modified":1615535756175},{"_id":"themes/next/layout/_partials/comments.njk","hash":"334e8d8117a46c8c097788811322a62627952219","modified":1615535756168},{"_id":"themes/next/layout/_macro/post.njk","hash":"b106599106285ecd4c0c1e0ed11c46a36b5a69d5","modified":1615535756175},{"_id":"themes/next/layout/_partials/languages.njk","hash":"ba9e272f1065b8f0e8848648caa7dea3f02c6be1","modified":1615535756168},{"_id":"themes/next/layout/_macro/sidebar.njk","hash":"cbf838ca59646f128c9111bb28921c1d04d8dcaf","modified":1615535756175},{"_id":"themes/next/layout/_partials/widgets.njk","hash":"dfd91d64ebc06b5b139ee97424f4f93e66938e34","modified":1615535756168},{"_id":"themes/next/layout/_partials/footer.njk","hash":"d16fdaf94d66efc0242b0c26ed539017e3b4f795","modified":1615535756155},{"_id":"themes/next/layout/_scripts/noscript.njk","hash":"4f250d0bf80be06dd2c95c1d4c2ba2624b59cf2a","modified":1615535756180},{"_id":"themes/next/layout/_partials/pagination.njk","hash":"9876dbfc15713c7a47d4bcaa301f4757bd978269","modified":1615535756172},{"_id":"themes/next/layout/_scripts/index.njk","hash":"6f0433940680c0f9db37542ca36f76e4bb1c1d50","modified":1615535756180},{"_id":"themes/next/layout/_scripts/pjax.njk","hash":"28a3bcb1ce50924a5a48b0f3756ac3a8736867f1","modified":1615535756180},{"_id":"themes/next/layout/_third-party/quicklink.njk","hash":"294b7f6a4fa566e369d8be0ce7b28f35b6c14563","modified":1615535756204},{"_id":"themes/next/layout/_third-party/index.njk","hash":"467b45a4912369bcba77908151e76a3f3ad0fed2","modified":1615535756197},{"_id":"themes/next/layout/_scripts/vendors.njk","hash":"bada07da2a47ed6de6081796367b19dd9e906cfb","modified":1615535756180},{"_id":"themes/next/layout/_third-party/nprogress.njk","hash":"271139c3896a6d294f46f767cb21b2e848050841","modified":1615535756185},{"_id":"themes/next/source/css/_mixins.styl","hash":"6bca0a5dc96fea392a0da53e0566ec2a113ec382","modified":1615535756296},{"_id":"themes/next/source/css/_colors.styl","hash":"b37f9847d2f95632e911df670b51921a7d748068","modified":1615535756390},{"_id":"themes/next/layout/_third-party/rating.njk","hash":"2731e262a6b88eaee2a3ca61e6a3583a7f594702","modified":1615535756189},{"_id":"themes/next/source/css/main.styl","hash":"7f92e2417065d5e1059fb24331b1b496d05e662d","modified":1615535756296},{"_id":"themes/next/source/js/algolia-search.js","hash":"a360423984cdd915d04365c51bcab440e52d7223","modified":1615535756401},{"_id":"themes/next/source/js/bookmark.js","hash":"e45e1fbb7c6d645e9c410759486216e570d02bef","modified":1615535756400},{"_id":"themes/next/source/js/local-search.js","hash":"da2051e7cab184ae4aa64457c5db7476b4645fdc","modified":1615535756400},{"_id":"themes/next/source/js/motion.js","hash":"6d4bd07a6f8e1b4083119dca0acb5b289533b619","modified":1615535756401},{"_id":"themes/next/source/js/next-boot.js","hash":"c2a04055d8edec03dc74e1c45d83bd3b51467de0","modified":1615535756400},{"_id":"themes/next/source/js/schedule.js","hash":"71d62fc3584c47ff2d4cc945226e412264399be9","modified":1615535756401},{"_id":"themes/next/source/js/utils.js","hash":"97cb0ac75f354119caf75365456ae1806be1c0c9","modified":1615535756400},{"_id":"themes/next/test/helpers/font.js","hash":"342ef3c6fd2dcca2a8802a516ed6d7f389fd2ca2","modified":1615535756224},{"_id":"themes/next/test/helpers/index.js","hash":"63ba28afed697f7b3574436b1133b8ecc9c0c357","modified":1615535756226},{"_id":"themes/next/test/helpers/next-url.js","hash":"abc4ee5149df6172b2c36b6e85d1993ec748ddea","modified":1615535756226},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1615535756290},{"_id":"themes/next/source/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1615535756288},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1615535756290},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1615535756290},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1615535756287},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1615535756290},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1615535756290},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1615535756287},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1615535756288},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1615535756290},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1615535756288},{"_id":"themes/next/scripts/events/lib/config.js","hash":"09b58494e9d9d25542d1d218f2d0ffc4d2da9f30","modified":1615535756236},{"_id":"themes/next/scripts/events/lib/highlight.js","hash":"6aec7b2c38c50989a23bfaa0d560e75c7f553e12","modified":1615535756236},{"_id":"themes/next/scripts/events/lib/injects.js","hash":"7b0ea8d28ced63977dc6539920eb044b1098adcb","modified":1615535756236},{"_id":"themes/next/scripts/events/lib/utils.js","hash":"b281be775b693f9bf32766c8f6ef703c72ac9b00","modified":1615535756236},{"_id":"themes/next/scripts/events/lib/vendors.js","hash":"d1ecc44f9f6e236bf910e36150767d36be4658b2","modified":1615535756236},{"_id":"themes/next/scripts/filters/comment/changyan.js","hash":"ecc93ba67af26b6715fc75001fa0c3131b726241","modified":1615535756244},{"_id":"themes/next/scripts/filters/comment/common.js","hash":"2486f3e0150c753e5f3af1a3665d074704b8ee2c","modified":1615535756244},{"_id":"themes/next/scripts/filters/comment/default-config.js","hash":"93ee5f9109dad885dc38c49bcee630c10f9dce6e","modified":1615535756244},{"_id":"themes/next/scripts/filters/comment/disqus.js","hash":"cc1e2d5921c6990f94f3cf11b1ff7533a21da9b7","modified":1615535756246},{"_id":"themes/next/scripts/filters/comment/disqusjs.js","hash":"32a1d9ad50621a78d0243e176c8b05ff7866fd5b","modified":1615535756244},{"_id":"themes/next/scripts/filters/comment/gitalk.js","hash":"7c0533bac4400689a0d5ab3a188ce42b9375de46","modified":1615535756246},{"_id":"themes/next/scripts/filters/comment/isso.js","hash":"ff8b5b5145220a17d0ecd9508ba9bd2d3b2da47d","modified":1615535756246},{"_id":"themes/next/scripts/filters/comment/livere.js","hash":"60be56c9ba590e5bcb80d1607ca7eeedde9fdfaa","modified":1615535756244},{"_id":"themes/next/scripts/filters/comment/utterances.js","hash":"d3bded697bc32dace689d2a6dfb6eb7514169d15","modified":1615535756246},{"_id":"themes/next/source/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1615535756287},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1615535756288},{"_id":"themes/next/test/validate/index.js","hash":"5a95ccc8598667535bd022e988055c0e019f3670","modified":1615535756214},{"_id":"themes/next/test/tags/button.js","hash":"48f2aa4c513e9e24bd6a811410520b74cd7ea88b","modified":1615535756222},{"_id":"themes/next/test/tags/caniuse.js","hash":"aa5e728445caeaf7c2ccd0f3fcb2cad0c93ca6d1","modified":1615535756220},{"_id":"themes/next/test/tags/center-quote.js","hash":"7667342fd1a1417eaf6a254012b84ae40e8d13dd","modified":1615535756222},{"_id":"themes/next/test/tags/group-pictures.js","hash":"f41640e5d0f552c0b0c4ac8876a2edb0fcf54e56","modified":1615535756220},{"_id":"themes/next/test/tags/index.js","hash":"e8779e54f0979b221858f8bb74dd081bb503b910","modified":1615535756220},{"_id":"themes/next/test/tags/label.js","hash":"4ebf3698c258ca978b997acbdd0dece44069c09d","modified":1615535756222},{"_id":"themes/next/test/tags/link-grid.js","hash":"88ec69e4dc1d493d21254ed9296a2514e91f0f8b","modified":1615535756222},{"_id":"themes/next/test/tags/note.js","hash":"3dcfcd65bf9f326972ea7571fdb1444200f5d07e","modified":1615535756219},{"_id":"themes/next/test/tags/mermaid.js","hash":"ed5b5a70ee49842501c952c4d62483f1fc8eba6b","modified":1615535756222},{"_id":"themes/next/test/tags/pdf.js","hash":"fd6ea5123560a90f7e7c1eface23dbe1455db25f","modified":1615535756220},{"_id":"themes/next/test/tags/tabs.js","hash":"d63722919f9da2e44d6b952801e10a2915ea9c12","modified":1615535756220},{"_id":"themes/next/test/tags/video.js","hash":"b796fc4dceb20a30e730c322bb5474c0162464cc","modified":1615535756220},{"_id":"themes/next/layout/_partials/page/breadcrumb.njk","hash":"edb3bb6d644b7407673c5ef3a426a244e98fcf89","modified":1615535756153},{"_id":"themes/next/layout/_partials/page/schedule.njk","hash":"9d650333160ad1977fe42d9770869ff1660a95fe","modified":1615535756151},{"_id":"themes/next/layout/_partials/page/categories.njk","hash":"17156d99941f28a225951ffdcfa9a115e20dc2d2","modified":1615535756153},{"_id":"themes/next/layout/_partials/page/page-header.njk","hash":"7ed4f102a1825195cff8d7995bf9219f323a9034","modified":1615535756151},{"_id":"themes/next/layout/_partials/page/tags.njk","hash":"a18d1598e36cc72f2b0b24c3cc3c5990dfaa3254","modified":1615535756151},{"_id":"themes/next/layout/_partials/header/brand.njk","hash":"ffb6c69a9c90793cbe9bf0544b55f7a41c016d8f","modified":1615535756169},{"_id":"themes/next/layout/_partials/header/index.njk","hash":"53895b3af95667edc5bf5d7356f8a2b4fe091447","modified":1615535756168},{"_id":"themes/next/layout/_partials/header/menu-item.njk","hash":"b46f412c0b4f775fd329d50357f722f5d7c1a3ba","modified":1615535756168},{"_id":"themes/next/layout/_partials/header/menu.njk","hash":"c9390824b57f23b7c8a5c23a9834514123673766","modified":1615535756169},{"_id":"themes/next/layout/_partials/header/sub-menu.njk","hash":"75a158a5b54a3a76ee6590f5e0e2dd4a9f0be869","modified":1615535756168},{"_id":"themes/next/layout/_partials/head/head-unique.njk","hash":"37bdf020591feb0cf72327c9efd755bf78a0afd6","modified":1615535756155},{"_id":"themes/next/layout/_partials/search/algolia-search.njk","hash":"efb2b6f19df02ba5ae623a1f274fff52aed21e6f","modified":1615535756163},{"_id":"themes/next/layout/_partials/search/index.njk","hash":"8f6f256ab3b351ffc80f1f3f1d9834e9a7cfac31","modified":1615535756163},{"_id":"themes/next/layout/_partials/head/head.njk","hash":"8f6521714044676e15d924da387b2aef45fc8fe6","modified":1615535756155},{"_id":"themes/next/layout/_partials/search/localsearch.njk","hash":"661f7acae43f0be694266323320f977d84119abe","modified":1615535756163},{"_id":"themes/next/layout/_partials/sidebar/site-overview.njk","hash":"c419158e19805e2db614a5f5651e3e534e4a5e4e","modified":1615535756172},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.njk","hash":"4790058691b7d36cf6d2d6b4e93795a7b8d608ad","modified":1615535756193},{"_id":"themes/next/layout/_third-party/analytics/cloudflare.njk","hash":"c978e9efd472c4825f93b83524b11f1c4f7efaab","modified":1615535756194},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.njk","hash":"ad197fd728dd7ac90f910fdf80ce848eab3ff187","modified":1615535756194},{"_id":"themes/next/layout/_third-party/analytics/growingio.njk","hash":"5adea065641e8c55994dd2328ddae53215604928","modified":1615535756194},{"_id":"themes/next/layout/_third-party/analytics/index.njk","hash":"2d36a481a70d5f450f1f166dc556ac1218b18537","modified":1615535756193},{"_id":"themes/next/layout/_partials/post/post-copyright.njk","hash":"133942922e34abae9e4de7ea5591d77c0caa4b37","modified":1615535756159},{"_id":"themes/next/layout/_partials/post/post-followme.njk","hash":"154df0bb323c332d8c25343f258ee865e5553423","modified":1615535756160},{"_id":"themes/next/layout/_partials/post/post-footer.njk","hash":"8f14f3f8a1b2998d5114cc56b680fb5c419a6b07","modified":1615535756159},{"_id":"themes/next/layout/_partials/post/post-reward.njk","hash":"a9bb52d0537d27cfe670d80e716da6780786ab8a","modified":1615535756160},{"_id":"themes/next/layout/_partials/post/post-meta.njk","hash":"1410fad73e0a08a45166e4a055ba150fd06e8636","modified":1615535756159},{"_id":"themes/next/layout/_partials/post/post-related.njk","hash":"f79c44692451db26efce704813f7a8872b7e63a0","modified":1615535756160},{"_id":"themes/next/layout/_third-party/comments/changyan.njk","hash":"5c2cd9b6f02bcb6248d3f18638a58e329fe8c0d1","modified":1615535756188},{"_id":"themes/next/layout/_third-party/comments/disqus.njk","hash":"cc1450d62d76e59968bdd25836694b8339207384","modified":1615535756188},{"_id":"themes/next/layout/_third-party/comments/disqusjs.njk","hash":"54eab4840443262432ec7c47e56e9859ace2a902","modified":1615535756187},{"_id":"themes/next/layout/_third-party/comments/gitalk.njk","hash":"c1ccd5ec907dffc2b4aeec81b0762ea1cc0d4505","modified":1615535756188},{"_id":"themes/next/layout/_third-party/comments/isso.njk","hash":"c1bf0753fc4bc5f21d61eaffbcc915a462c7d830","modified":1615535756188},{"_id":"themes/next/layout/_third-party/chat/chatra.njk","hash":"f910618292c63871ca2e6c6e66c491f344fa7b1f","modified":1615535756209},{"_id":"themes/next/layout/_third-party/comments/livere.njk","hash":"6252b0353c6a36d03c68ebec1073293442221bd1","modified":1615535756187},{"_id":"themes/next/layout/_third-party/comments/utterances.njk","hash":"7a07bbfb09ddf70b919f0ebe1b00942c96152389","modified":1615535756188},{"_id":"themes/next/layout/_third-party/chat/tidio.njk","hash":"cba0e6e0fad08568a9e74ba9a5bee5341cfc04c1","modified":1615535756207},{"_id":"themes/next/layout/_third-party/search/algolia-search.njk","hash":"97035261aa85c7d39c6ce1211cdefc6248c0446d","modified":1615535756191},{"_id":"themes/next/layout/_third-party/math/index.njk","hash":"47a982aec8830c2f9711b2aff59ff83f09deb09e","modified":1615535756197},{"_id":"themes/next/layout/_third-party/math/katex.njk","hash":"b6746dfad32cc8a46ff8f4194a7a16ca41744803","modified":1615535756198},{"_id":"themes/next/layout/_third-party/search/localsearch.njk","hash":"767b6c714c22588bcd26ba70b0fc19b6810cbacd","modified":1615535756191},{"_id":"themes/next/layout/_third-party/math/mathjax.njk","hash":"f4fd63b9f9230dadd1190f79d59313751925ed90","modified":1615535756198},{"_id":"themes/next/layout/_third-party/tags/mermaid.njk","hash":"007da98b913a62946c03a87f8fa25b3db856caa1","modified":1615535756204},{"_id":"themes/next/layout/_third-party/tags/pdf.njk","hash":"b6241ebbb091ef18b3d06cba08ac2e04e3f67a7d","modified":1615535756204},{"_id":"themes/next/layout/_third-party/statistics/busuanzi-counter.njk","hash":"a4bc501da0f22f7e420f0ca47e83988ce90b1368","modified":1615535756202},{"_id":"themes/next/layout/_third-party/statistics/lean-analytics.njk","hash":"811a3ad58c0a15550100bdc199bef8add1ad526c","modified":1615535756202},{"_id":"themes/next/layout/_third-party/statistics/firestore.njk","hash":"0ff61346dc1327054ea2c211ba6fb654cdcdfd8d","modified":1615535756203},{"_id":"themes/next/layout/_third-party/statistics/index.njk","hash":"568ddf7955d11d93fb5e842b403a7ac8b1b7fdb1","modified":1615535756202},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"96e0a7c2a65ce68215e17e369085b2ea2f1334f2","modified":1615535756381},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"c65536a128b9bc9dbe2fbb1b235a3cded2891002","modified":1615535756380},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"e1fbf169b9b6a194b518240cbd06ec3c48b83d61","modified":1615535756381},{"_id":"themes/next/source/js/schemes/muse.js","hash":"9d15d0d6a58b1df74827288f117af22b4b6aafe5","modified":1615535756402},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"e3be898f5ebcf435a26542653a9297ff2c71aeb0","modified":1615535756381},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"d4809783ded05625675b1b4bbd9e99d7f5f7d7f9","modified":1615535756360},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"ece860218125bdb2578f373ed4f5040c9670e4b1","modified":1615535756375},{"_id":"themes/next/source/css/_common/components/index.styl","hash":"3c7ae405dd30b9b46494a6b9a6cb1b7ec6138ba9","modified":1615535756361},{"_id":"themes/next/source/css/_variables/base.styl","hash":"32a1b73944561655087d80f025208a84e012b3cf","modified":1615535756381},{"_id":"themes/next/source/css/_common/components/reading-progress.styl","hash":"ee8fb8348aa76a9b346927ba4cae5666d8d777f7","modified":1615535756367},{"_id":"themes/next/source/css/_common/outline/index.styl","hash":"0c9f72ad98807521cbdcee7b5bbe2e884311db39","modified":1615535756340},{"_id":"themes/next/source/css/_common/outline/mobile.styl","hash":"9f88d350df8115d26c6adbc2025a27ef9a42d7ff","modified":1615535756341},{"_id":"themes/next/source/css/_common/scaffolding/buttons.styl","hash":"a042571d85ff7265f799004239a45f36b716b8a6","modified":1615535756347},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"db5ddaa8fd2101b0fd7108ce4bbcb9f0649fa223","modified":1615535756353},{"_id":"themes/next/source/css/_common/scaffolding/comments.styl","hash":"e4fecc889ba3317a64e9abba5842c79dff9b7827","modified":1615535756353},{"_id":"themes/next/source/css/_common/scaffolding/index.styl","hash":"523fb7b653b87ae37fc91fc8813e4ffad87b0d7e","modified":1615535756353},{"_id":"themes/next/source/css/_common/scaffolding/pagination.styl","hash":"41cba8c4c5637a6b8f1b62e67673b33676f5d734","modified":1615535756353},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"b56367ea676ea8e8783ea89cd4ab150c7da7a060","modified":1615535756348},{"_id":"themes/next/source/css/_common/scaffolding/toggles.styl","hash":"572a41499391677d84b16d8dbd6a996a3d5ce041","modified":1615535756352},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"e840b23d33023e6d45e018f6e84b683dd56efd8d","modified":1615535756354},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"fd49b521d67eaccc629f77b4e095cb7310327565","modified":1615535756298},{"_id":"themes/next/source/css/_schemes/Mist/_layout.styl","hash":"5604ac1e161099a4d3e5657d53507268866dc717","modified":1615535756323},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"4817e77577896ab5c0da434549917ee703a3f4cf","modified":1615535756323},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"357b899ac0f0dfbbbebf1ea972030c7cefa463ce","modified":1615535756323},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expand.styl","hash":"b332868d76d9f1651efd65abfc0d3c9d699b1a45","modified":1615535756323},{"_id":"themes/next/source/css/_schemes/Muse/_header.styl","hash":"06080fd963c904d96c00eff098a284e337953013","modified":1615535756319},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"ab16a3dcdc0393b9b582ef59dcc13db9320e917c","modified":1615535756323},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"82a29572dd90451f75358a2ee2522b87304a0bb8","modified":1615535756320},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"8a70d51d8f7cd113e5fbc9f0e70c46a072f282c8","modified":1615535756319},{"_id":"themes/next/source/css/_schemes/Muse/_sidebar.styl","hash":"87e163de866938c668ec33e6ff8972b7a968e0af","modified":1615535756319},{"_id":"themes/next/source/css/_schemes/Muse/_sub-menu.styl","hash":"c48ccd8d6651fe1a01faff8f01179456d39ba9b1","modified":1615535756319},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"6ad168288b213cec357e9b5a97674ff2ef3a910c","modified":1615535756319},{"_id":"themes/next/source/css/_schemes/Pisces/_header.styl","hash":"be5c46b983df08b9dbac1b4749b1a101b54b6b50","modified":1615535756297},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"6eee86c8f0175d6c09e434053516cd8556f78d44","modified":1615535756297},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"dc68f16eceaa006e9735d7ff7821af7f4ef50979","modified":1615535756297},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"2d337a12c5c668ee64447bda5a9ed64eaed5b29e","modified":1615535756297},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"778ed2ad5643b93970c95626b325defeb586733f","modified":1615535756296},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"8000075b227749a7495eaf417cac6ccfbe441580","modified":1615535756297},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"8afdc311c6b8db121758371f95cf1c5e77354f42","modified":1615535756377},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"b6e2eb1550a7845cb2adf86081a4ab6c7bde1e68","modified":1615535756377},{"_id":"themes/next/source/css/_common/components/pages/index.styl","hash":"7504dbc5c70262b048143b2c37d2b5aa2809afa2","modified":1615535756377},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"6b816c2511242ee503fb5f34cd3e4dcdafc06b85","modified":1615535756377},{"_id":"themes/next/source/css/_common/components/pages/tag-cloud.styl","hash":"1a81d1a71fcf0699629ce6e72dfd0a15f3a2dd0a","modified":1615535756377},{"_id":"themes/next/source/css/_common/components/post/index.styl","hash":"b3fa752f72ca1413289b76c56fbd33a00e3d25d7","modified":1615535756362},{"_id":"themes/next/source/css/_common/components/post/post-body.styl","hash":"5d61dedb3bec1021d52894f9b379e4d0953f6a35","modified":1615535756361},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"ec37a36e94ba791663607a5022f763915778578f","modified":1615535756362},{"_id":"themes/next/source/css/_common/components/post/post-followme.styl","hash":"76d0dfb3a8b873a6180604ac6daecf38b6a963a2","modified":1615535756362},{"_id":"themes/next/source/css/_common/components/post/post-footer.styl","hash":"1d284f3ea03ba9b4feb76b375e539a8e0bccf1c3","modified":1615535756361},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"aa366d37389760c8595529b850f461569577a1c5","modified":1615535756361},{"_id":"themes/next/source/css/_common/components/post/post-header.styl","hash":"967021e5483495bdefac9e0b3e1c84c366c657fd","modified":1615535756363},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"9ac6f477177264c26a46e8333b8456720a0444dc","modified":1615535756362},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"b1181c5f12a70b8bf710586fcb0d7959841ee512","modified":1615535756363},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"5b5649b9749e3fd8b63aef22ceeece0a6e1df605","modified":1615535756363},{"_id":"themes/next/source/css/_common/components/third-party/gitalk.styl","hash":"7102f8e819b62cf7d121fd063dc663fd068feaa6","modified":1615535756370},{"_id":"themes/next/source/css/_common/components/third-party/index.styl","hash":"b457756758f0632767e8a560e3033059cbe4a67b","modified":1615535756367},{"_id":"themes/next/source/css/_common/components/third-party/math.styl","hash":"83c6588c51cd418336f4945813410a100ddfe2a4","modified":1615535756370},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"2c534d2b2dbc932ad65d335a720a7ba9612bac04","modified":1615535756367},{"_id":"themes/next/source/css/_common/outline/footer/index.styl","hash":"f11dca93e334b68a29e792f7abe682993fab7568","modified":1615535756339},{"_id":"themes/next/source/css/_common/components/third-party/search.styl","hash":"2896840ab8ac8ab2a7f76d18df893f290ac31625","modified":1615535756367},{"_id":"themes/next/source/css/_common/components/third-party/utterances.styl","hash":"bf88d9c585d7b00463c46352402cfea415c29493","modified":1615535756370},{"_id":"themes/next/source/css/_common/outline/header/bookmark.styl","hash":"d6d60f02b5e9f89dbfce180b3884030898022664","modified":1615535756328},{"_id":"themes/next/source/css/_common/outline/header/github-banner.styl","hash":"cf194bea1c9e67fde871a04de3bc81df72c54277","modified":1615535756328},{"_id":"themes/next/source/css/_common/outline/header/index.styl","hash":"f1778d2c56974b96dae429456d5c55be325c4946","modified":1615535756328},{"_id":"themes/next/source/css/_common/outline/header/menu.styl","hash":"392fd53a8dd4e3f33a853ebb24290a622300e0ff","modified":1615535756328},{"_id":"themes/next/source/css/_common/outline/header/site-meta.styl","hash":"9a47c9045e443b8d20932f9c564a3a05fa4c6b51","modified":1615535756328},{"_id":"themes/next/source/css/_common/outline/header/site-nav.styl","hash":"9c8abc55c9d94d384a245013951aba5ecca2f4fe","modified":1615535756328},{"_id":"themes/next/source/css/_common/scaffolding/tags/blockquote-center.styl","hash":"15a5e273a8137550c93c8d2a60f9fcf86e04a89e","modified":1615535756348},{"_id":"themes/next/source/css/_common/scaffolding/tags/group-pictures.styl","hash":"393ff96234e4196b569d4b11496774eb78e147de","modified":1615535756348},{"_id":"themes/next/source/css/_common/scaffolding/tags/index.styl","hash":"cef4e779473daa3761709958243c6b8a57bbd814","modified":1615535756348},{"_id":"themes/next/source/css/_common/scaffolding/tags/label.styl","hash":"debee14539272fbe3835a7d3853af2230baa3501","modified":1615535756350},{"_id":"themes/next/source/css/_common/scaffolding/tags/link-grid.styl","hash":"79ffcf92771cd48f4a686f9d8d7d610f39e9fc1f","modified":1615535756350},{"_id":"themes/next/source/css/_common/scaffolding/tags/tabs.styl","hash":"50b00218e854200c4ec0573a841e226d49c45cba","modified":1615535756348},{"_id":"themes/next/source/css/_common/scaffolding/tags/note.styl","hash":"f53e6c12bd4805888f696386d00668f23cd335e7","modified":1615535756348},{"_id":"themes/next/source/css/_common/scaffolding/tags/mermaid.styl","hash":"3c029a003e9bf747e1b9cc7c0c127f6028374876","modified":1615535756348},{"_id":"themes/next/source/css/_common/scaffolding/tags/pdf.styl","hash":"b49c64f8e9a6ca1c45c0ba98febf1974fdd03616","modified":1615535756348},{"_id":"themes/next/source/css/_common/outline/sidebar/index.styl","hash":"d180871d4440090241fc988736c1f3a7efb4b1ba","modified":1615535756335},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author-links.styl","hash":"52fc98b1435129eb3edb9293ced9e507741f1350","modified":1615535756335},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-blogroll.styl","hash":"9950c3188a28e1c63b5498b7bdcd14b12ace3e28","modified":1615535756334},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-author.styl","hash":"5b38ac4a0f1ade0e681aff0e3366c481d9cf3dcd","modified":1615535756339},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-button.styl","hash":"ab715dbf2b98bfeb5e7b7c43e92e5c02496cc2ea","modified":1615535756334},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-dimmer.styl","hash":"fbdb63c6a8887d19b7137325ba7d6806f728139c","modified":1615535756334},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-nav.styl","hash":"f7ff85fe6c4efb8ff036fab2c3277b7d8bed69a8","modified":1615535756334},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toc.styl","hash":"6394340c28a21f6aa90e786f3bfe24fb26595653","modified":1615535756334},{"_id":"themes/next/source/css/_common/outline/sidebar/site-state.styl","hash":"69eb1c282a8fd5dbab606cc09c34c5dc8e44e753","modified":1615535756334},{"_id":"themes/next/source/css/_common/outline/sidebar/sidebar-toggle.styl","hash":"432e73bc4f99322af6af1852e0ea6e674919c31a","modified":1615535756335},{"_id":"themes/next/source/css/_common/scaffolding/highlight/copy-code.styl","hash":"83ee4993710fc8daa1c8dbfccd5d5091fd244c30","modified":1615535756342},{"_id":"themes/next/source/css/_common/scaffolding/highlight/index.styl","hash":"08e79881d58d01afab6dbed37ab4f52356564d7e","modified":1615535756342},{"_id":"public/search.xml","hash":"58f22a98e3121d06a971d407051befd19c269874","modified":1618362667713},{"_id":"public/about/index.html","hash":"eeba7f83439149947b8499c6988fd31c590857ef","modified":1618362667713},{"_id":"public/categories/index.html","hash":"432818cf97ed6698ca07a1d354637bcc58584618","modified":1618362667713},{"_id":"public/tags/index.html","hash":"3e2cc544d267478035b88bcdf21f2a589eaa187e","modified":1618362667713},{"_id":"public/2021/03/12/hello-world.html","hash":"23eaaa8285ec2e381fa20bc2c94167cc82837afb","modified":1618362667713},{"_id":"public/2021/03/12/linux/2021-03-12-centos-network-manager.html","hash":"dbab9337927ad4b85818138b6ad64e7a50a8860d","modified":1618362667713},{"_id":"public/archives/index.html","hash":"a7ab5e93f6c671d809b5f474578eb2f627555bf9","modified":1618362667713},{"_id":"public/archives/2016/index.html","hash":"926ca23cbfb8e226576f76de5daec3347933e475","modified":1618362667713},{"_id":"public/archives/2016/06/index.html","hash":"a19fcfae1561a8188ebd4c687b3328245b127232","modified":1618362667713},{"_id":"public/archives/2017/index.html","hash":"59bd9ae2c77a5d7c88a98a5bc3322487c9147de8","modified":1618362667713},{"_id":"public/archives/2017/09/index.html","hash":"a77b8196af60978d19af5b7913d1d229dd559991","modified":1618362667713},{"_id":"public/archives/2021/index.html","hash":"e120e9a3a5ee673e091f80541f2984637fff949b","modified":1618362667713},{"_id":"public/archives/2021/03/index.html","hash":"a6e0441381e7846eb69cea613e9d8a876e22b4ae","modified":1618362667713},{"_id":"public/categories/linux/index.html","hash":"a741b40cfa6eacd068b144cc29c8d3a3ae45108d","modified":1618362667713},{"_id":"public/categories/php/index.html","hash":"a9d8df5ac96ddeafe635faf18fdb66cec45e7b7a","modified":1618362667713},{"_id":"public/tags/linux/index.html","hash":"a51fd3897ec19e7c2370ba357bca4ab8922ed464","modified":1618362667713},{"_id":"public/tags/centos/index.html","hash":"e8cad85893c5249fb214e52d2e0f092b089327d2","modified":1618362667713},{"_id":"public/tags/php/index.html","hash":"fc27e044d562a375025cf2fbf2ae92e8f83056fd","modified":1618362667713},{"_id":"public/tags/app/index.html","hash":"b3847eb53c6bc3ab8aac7c89cb13997ea43c1e1a","modified":1618362667713},{"_id":"public/2017/09/21/php/2017-09-21-php-extensions.html","hash":"0c88e830926ff938452f689600c59e75b45cd1be","modified":1618362667713},{"_id":"public/2016/06/12/php/2016-06-12-composer.html","hash":"c66932cdd1ae0f24151d6e0809b71b6f5b0d55ae","modified":1618362667713},{"_id":"public/2016/06/12/php/2021-03-10-app-pay.html","hash":"f8562b6bb4adb31ef54e2049130425b6dfe0f89d","modified":1618362667713},{"_id":"public/index.html","hash":"1423afb9bad08521ff2686d3e31112355e054a43","modified":1618362667713},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1618362667713},{"_id":"public/images/avatar.gif","hash":"18c53e15eb0c84b139995f9334ed8522b40aeaf6","modified":1618362667713},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1618362667713},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1618362667713},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1618362667713},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1618362667713},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1618362667713},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1618362667713},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1618362667713},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1618362667713},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1618362667713},{"_id":"public/images/logo-algolia-nebula-blue-full.svg","hash":"b85e274207b1392782476a0430feac98db1e7da0","modified":1618362667713},{"_id":"public/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1618362667713},{"_id":"public/js/algolia-search.js","hash":"a360423984cdd915d04365c51bcab440e52d7223","modified":1618362667713},{"_id":"public/js/bookmark.js","hash":"e45e1fbb7c6d645e9c410759486216e570d02bef","modified":1618362667713},{"_id":"public/js/local-search.js","hash":"da2051e7cab184ae4aa64457c5db7476b4645fdc","modified":1618362667713},{"_id":"public/js/motion.js","hash":"6d4bd07a6f8e1b4083119dca0acb5b289533b619","modified":1618362667713},{"_id":"public/js/next-boot.js","hash":"c2a04055d8edec03dc74e1c45d83bd3b51467de0","modified":1618362667713},{"_id":"public/js/schedule.js","hash":"71d62fc3584c47ff2d4cc945226e412264399be9","modified":1618362667713},{"_id":"public/js/utils.js","hash":"97cb0ac75f354119caf75365456ae1806be1c0c9","modified":1618362667713},{"_id":"public/js/schemes/muse.js","hash":"9d15d0d6a58b1df74827288f117af22b4b6aafe5","modified":1618362667713},{"_id":"public/css/main.css","hash":"e526dd3f4e5d65850d4a979ca19aa13444529570","modified":1618362667713},{"_id":"public/images/background.jpg","hash":"a5d01e4e6c002350063df956bf2453470d11e8ad","modified":1618362667713}],"Category":[{"name":"linux","_id":"ckngrcixi0006z6db46er34wj"},{"name":"php","_id":"ckngrcixm000az6dbb0lqb3oq"}],"Data":[{"_id":"styles","data":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}],"Page":[{"title":"关于","date":"2018-07-10T08:33:32.000Z","_content":"\n","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2018-07-10 16:33:32\n---\n\n","updated":"2021-03-12T07:55:56.139Z","path":"about/index.html","comments":1,"layout":"page","_id":"ckngrcix80000z6dbfokn4r54","content":"","site":{"data":{"styles":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}},"excerpt":"","more":""},{"title":"分类","date":"2018-06-21T04:26:54.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2018-06-21 12:26:54\ntype: \"categories\"\n---","updated":"2021-03-12T07:55:56.099Z","path":"categories/index.html","comments":1,"layout":"page","_id":"ckngrcixe0002z6db8gwlg3z7","content":"","site":{"data":{"styles":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}},"excerpt":"","more":""},{"title":"标签","date":"2019-09-16T04:24:30.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2019-09-16 12:24:30\ntype: \"tags\"\n---","updated":"2021-03-12T07:55:56.140Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ckngrcixg0004z6db8gjuh53b","content":"","site":{"data":{"styles":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}},"excerpt":"","more":""}],"Post":[{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","slug":"hello-world","published":1,"date":"2021-03-12T07:55:56.136Z","updated":"2021-03-12T07:55:56.136Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckngrcixb0001z6dbbpbjexpp","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","site":{"data":{"styles":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n"},{"title":"解决Centos虚拟机有线网卡消失","date":"2021-03-12T07:19:28.000Z","_content":"\n> centos系统虚拟机的有线网卡突然消失，导致网络无法连接\n\n<!-- more -->\n\n###### 出现的问题\n\n  - 进入虚拟机，在终端命令`systemctl start network.service`重启网络服务报以下错误(ens33为有线网卡,不同版本可能不同, 如ens32)\n   \n    ```text  \n    Connection 'ens33' is not available on device ens33 because device is strictly unmanaged\n    ```\n\n\n###### 最佳解决\n\n  - 关闭NetworkManager可以起作用，但不推荐，有线网卡消失是因为网卡未加入托管导致，这里重新纳入托管为最佳解决办法。\n  \n    ```bash\n    查看托管状态\n    nmcli n\n    显示 disabled 则为本文遇到的问题，如果是 enabled 则可以不用往下看了\n    开启 托管\n    nmcli n on\n    重启网络管理\n    systemctl restart NetworkManager\n    ```","source":"_posts/linux/2021-03-12-centos-network-manager.md","raw":"---\ntitle: 解决Centos虚拟机有线网卡消失\ndate: 2021-03-12 15:19:28\ncategories: linux\ntags:\n- linux\n- centos\n---\n\n> centos系统虚拟机的有线网卡突然消失，导致网络无法连接\n\n<!-- more -->\n\n###### 出现的问题\n\n  - 进入虚拟机，在终端命令`systemctl start network.service`重启网络服务报以下错误(ens33为有线网卡,不同版本可能不同, 如ens32)\n   \n    ```text  \n    Connection 'ens33' is not available on device ens33 because device is strictly unmanaged\n    ```\n\n\n###### 最佳解决\n\n  - 关闭NetworkManager可以起作用，但不推荐，有线网卡消失是因为网卡未加入托管导致，这里重新纳入托管为最佳解决办法。\n  \n    ```bash\n    查看托管状态\n    nmcli n\n    显示 disabled 则为本文遇到的问题，如果是 enabled 则可以不用往下看了\n    开启 托管\n    nmcli n on\n    重启网络管理\n    systemctl restart NetworkManager\n    ```","slug":"linux/2021-03-12-centos-network-manager","published":1,"updated":"2021-03-14T02:08:01.788Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckngrcixf0003z6db5jt8cvzo","content":"<blockquote>\n<p>centos系统虚拟机的有线网卡突然消失，导致网络无法连接</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h6 id=\"出现的问题\"><a href=\"#出现的问题\" class=\"headerlink\" title=\"出现的问题\"></a>出现的问题</h6><ul>\n<li><p>进入虚拟机，在终端命令<code>systemctl start network.service</code>重启网络服务报以下错误(ens33为有线网卡,不同版本可能不同, 如ens32)</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Connection &#x27;ens33&#x27; is not available on device ens33 because device is strictly unmanaged</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h6 id=\"最佳解决\"><a href=\"#最佳解决\" class=\"headerlink\" title=\"最佳解决\"></a>最佳解决</h6><ul>\n<li><p>关闭NetworkManager可以起作用，但不推荐，有线网卡消失是因为网卡未加入托管导致，这里重新纳入托管为最佳解决办法。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查看托管状态</span><br><span class=\"line\">nmcli n</span><br><span class=\"line\">显示 disabled 则为本文遇到的问题，如果是 enabled 则可以不用往下看了</span><br><span class=\"line\">开启 托管</span><br><span class=\"line\">nmcli n on</span><br><span class=\"line\">重启网络管理</span><br><span class=\"line\">systemctl restart NetworkManager</span><br></pre></td></tr></table></figure></li>\n</ul>\n","site":{"data":{"styles":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}},"excerpt":"<blockquote>\n<p>centos系统虚拟机的有线网卡突然消失，导致网络无法连接</p>\n</blockquote>","more":"<h6 id=\"出现的问题\"><a href=\"#出现的问题\" class=\"headerlink\" title=\"出现的问题\"></a>出现的问题</h6><ul>\n<li><p>进入虚拟机，在终端命令<code>systemctl start network.service</code>重启网络服务报以下错误(ens33为有线网卡,不同版本可能不同, 如ens32)</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Connection &#x27;ens33&#x27; is not available on device ens33 because device is strictly unmanaged</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h6 id=\"最佳解决\"><a href=\"#最佳解决\" class=\"headerlink\" title=\"最佳解决\"></a>最佳解决</h6><ul>\n<li><p>关闭NetworkManager可以起作用，但不推荐，有线网卡消失是因为网卡未加入托管导致，这里重新纳入托管为最佳解决办法。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">查看托管状态</span><br><span class=\"line\">nmcli n</span><br><span class=\"line\">显示 disabled 则为本文遇到的问题，如果是 enabled 则可以不用往下看了</span><br><span class=\"line\">开启 托管</span><br><span class=\"line\">nmcli n on</span><br><span class=\"line\">重启网络管理</span><br><span class=\"line\">systemctl restart NetworkManager</span><br></pre></td></tr></table></figure></li>\n</ul>"},{"title":"composer的安装和使用","date":"2016-06-11T22:24:30.000Z","_content":"\n## 安装`composer`\n\n- 版本要求`php >= 5.4` \n\n- [官方文档地址](http://docs.phpcomposer.com/)\n\n- 终端指令安装\n\n    ```bash\n    $ php -r \"copy('https://install.phpcomposer.com/installer', 'composer-setup.php');\"\n    \n    $ php composer-setup.php\n    \n    $ php -r \"unlink('composer-setup.php');\"\n    ```\n  \n- 全局配置\n\n    ```bash\n    $ sudo mv composer.phar /usr/local/bin/composer\n    ```\n  \n- 更换镜像加速源\n\n  - `packagist`中文镜像\n  \n      ```bash\n    $ composer config -g repo.packagist composer https://packagist.phpcomposer.com\n      ```\n    \n  - 阿里云镜像\n  \n    ```bash\n    $ composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/\n    ```\n    \n  - 腾讯云镜像\n      \n    ```bash\n    $ composer config -g repos.packagist composer https://mirrors.cloud.tencent.com/composer/\n    ```\n    \n## 使用`composer`\n\n- 添加包\n\n    ```bash\n    $ composer require \"foo/bar:1.0.0\"\n    ```\n\n- 移除包\n\n    ```bash\n    $ composer require foo/bar\n    ```\n  \n- 重新加载配置\n\n    ```bash\n    $ composer dump-autoload\n    ```","source":"_posts/php/2016-06-12-composer.md","raw":"---\ntitle: composer的安装和使用\ndate: 2016-06-12 06:24:30\ncategories: php\ntags:\n- php\n---\n\n## 安装`composer`\n\n- 版本要求`php >= 5.4` \n\n- [官方文档地址](http://docs.phpcomposer.com/)\n\n- 终端指令安装\n\n    ```bash\n    $ php -r \"copy('https://install.phpcomposer.com/installer', 'composer-setup.php');\"\n    \n    $ php composer-setup.php\n    \n    $ php -r \"unlink('composer-setup.php');\"\n    ```\n  \n- 全局配置\n\n    ```bash\n    $ sudo mv composer.phar /usr/local/bin/composer\n    ```\n  \n- 更换镜像加速源\n\n  - `packagist`中文镜像\n  \n      ```bash\n    $ composer config -g repo.packagist composer https://packagist.phpcomposer.com\n      ```\n    \n  - 阿里云镜像\n  \n    ```bash\n    $ composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/\n    ```\n    \n  - 腾讯云镜像\n      \n    ```bash\n    $ composer config -g repos.packagist composer https://mirrors.cloud.tencent.com/composer/\n    ```\n    \n## 使用`composer`\n\n- 添加包\n\n    ```bash\n    $ composer require \"foo/bar:1.0.0\"\n    ```\n\n- 移除包\n\n    ```bash\n    $ composer require foo/bar\n    ```\n  \n- 重新加载配置\n\n    ```bash\n    $ composer dump-autoload\n    ```","slug":"php/2016-06-12-composer","published":1,"updated":"2021-03-12T07:55:56.136Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckngrcixh0005z6db2ahb4xpr","content":"<h2 id=\"安装composer\"><a href=\"#安装composer\" class=\"headerlink\" title=\"安装composer\"></a>安装<code>composer</code></h2><ul>\n<li><p>版本要求<code>php &gt;= 5.4</code> </p>\n</li>\n<li><p><a href=\"http://docs.phpcomposer.com/\">官方文档地址</a></p>\n</li>\n<li><p>终端指令安装</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ php -r <span class=\"string\">&quot;copy(&#x27;https://install.phpcomposer.com/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ php composer-setup.php</span><br><span class=\"line\"></span><br><span class=\"line\">$ php -r <span class=\"string\">&quot;unlink(&#x27;composer-setup.php&#x27;);&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>全局配置</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo mv composer.phar /usr/<span class=\"built_in\">local</span>/bin/composer</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>更换镜像加速源</p>\n<ul>\n<li><p><code>packagist</code>中文镜像</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer config -g repo.packagist composer https://packagist.phpcomposer.com</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>阿里云镜像</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>腾讯云镜像</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer config -g repos.packagist composer https://mirrors.cloud.tencent.com/composer/</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"使用composer\"><a href=\"#使用composer\" class=\"headerlink\" title=\"使用composer\"></a>使用<code>composer</code></h2><ul>\n<li><p>添加包</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer require <span class=\"string\">&quot;foo/bar:1.0.0&quot;</span></span><br></pre></td></tr></table></figure></li>\n<li><p>移除包</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer require foo/bar</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重新加载配置</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer dump-autoload</span><br></pre></td></tr></table></figure></li>\n</ul>\n","site":{"data":{"styles":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}},"excerpt":"","more":"<h2 id=\"安装composer\"><a href=\"#安装composer\" class=\"headerlink\" title=\"安装composer\"></a>安装<code>composer</code></h2><ul>\n<li><p>版本要求<code>php &gt;= 5.4</code> </p>\n</li>\n<li><p><a href=\"http://docs.phpcomposer.com/\">官方文档地址</a></p>\n</li>\n<li><p>终端指令安装</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ php -r <span class=\"string\">&quot;copy(&#x27;https://install.phpcomposer.com/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ php composer-setup.php</span><br><span class=\"line\"></span><br><span class=\"line\">$ php -r <span class=\"string\">&quot;unlink(&#x27;composer-setup.php&#x27;);&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>全局配置</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo mv composer.phar /usr/<span class=\"built_in\">local</span>/bin/composer</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>更换镜像加速源</p>\n<ul>\n<li><p><code>packagist</code>中文镜像</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer config -g repo.packagist composer https://packagist.phpcomposer.com</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>阿里云镜像</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>腾讯云镜像</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer config -g repos.packagist composer https://mirrors.cloud.tencent.com/composer/</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"使用composer\"><a href=\"#使用composer\" class=\"headerlink\" title=\"使用composer\"></a>使用<code>composer</code></h2><ul>\n<li><p>添加包</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer require <span class=\"string\">&quot;foo/bar:1.0.0&quot;</span></span><br></pre></td></tr></table></figure></li>\n<li><p>移除包</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer require foo/bar</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>重新加载配置</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ composer dump-autoload</span><br></pre></td></tr></table></figure></li>\n</ul>\n"},{"title":"php扩展库安装","date":"2017-09-21T03:34:20.000Z","_content":"\n<!-- more -->\n\n### windows环境下PHP安装扩展\n\n  - 通过phpinfo()函数，进行查看扩展是否已安装\n  \n      ```php\n    <?php\n        echo phpinfo();\n    ?>\n      ```\n    \n  - 根据php版本前往官方网址下载对应的扩展库\n    \n    [下载地址](http://pecl.php.net/packages.php)\n    \n    windows对应`dll`， nts非线程安全，ts线程安全，x64代表64位，x86代表32位。\n    \n  - 将下载的扩展库文件放入对应的扩展库文件夹，修改php.ini, 以下以redis为例\n  \n    ```text\n    extension=php_igbinary.dll\n    extension=php_redis.dll\n    ``` \n    \n### linux(centos/redhat)环境下PHP安装扩展\n\n###### 方法一: 源码安装\n\n1. 下载php版本对应的扩展源码包\n\n    - 例如redis\n    \n      `http://pecl.php.net/package/redis`\n\n2. 解压进入源码目录\n\n    ```bash\n    $ tar -zxvf redis.tar.gz\n   \n    $ cd redis\n   \n    $ /usr/bin/phpize \n   \n    $ ./configure --with-php-config=/usr/bin/php-config\n   \n    $ make && make install\n   \n    $ echo \"extension=redis.so\" >> /etc/php.ini\n    \n    ```\n   \n###### 方法二: pecl扩展库安装\n\n- 终端执行指令\n    \n    ```bash\n    $ pecl install -o -f redis \n  \n    $ echo \"extension=redis.so\" >> /etc/php.ini\n  \n    ```","source":"_posts/php/2017-09-21-php-extensions.md","raw":"---\ntitle: php扩展库安装\ndate: 2017-09-21 11:34:20\ncategories: php\ntags:\n- php\n---\n\n<!-- more -->\n\n### windows环境下PHP安装扩展\n\n  - 通过phpinfo()函数，进行查看扩展是否已安装\n  \n      ```php\n    <?php\n        echo phpinfo();\n    ?>\n      ```\n    \n  - 根据php版本前往官方网址下载对应的扩展库\n    \n    [下载地址](http://pecl.php.net/packages.php)\n    \n    windows对应`dll`， nts非线程安全，ts线程安全，x64代表64位，x86代表32位。\n    \n  - 将下载的扩展库文件放入对应的扩展库文件夹，修改php.ini, 以下以redis为例\n  \n    ```text\n    extension=php_igbinary.dll\n    extension=php_redis.dll\n    ``` \n    \n### linux(centos/redhat)环境下PHP安装扩展\n\n###### 方法一: 源码安装\n\n1. 下载php版本对应的扩展源码包\n\n    - 例如redis\n    \n      `http://pecl.php.net/package/redis`\n\n2. 解压进入源码目录\n\n    ```bash\n    $ tar -zxvf redis.tar.gz\n   \n    $ cd redis\n   \n    $ /usr/bin/phpize \n   \n    $ ./configure --with-php-config=/usr/bin/php-config\n   \n    $ make && make install\n   \n    $ echo \"extension=redis.so\" >> /etc/php.ini\n    \n    ```\n   \n###### 方法二: pecl扩展库安装\n\n- 终端执行指令\n    \n    ```bash\n    $ pecl install -o -f redis \n  \n    $ echo \"extension=redis.so\" >> /etc/php.ini\n  \n    ```","slug":"php/2017-09-21-php-extensions","published":1,"updated":"2021-03-12T09:02:25.601Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckngrcixk0008z6dbejzjhmrv","content":"<a id=\"more\"></a>\n\n<h3 id=\"windows环境下PHP安装扩展\"><a href=\"#windows环境下PHP安装扩展\" class=\"headerlink\" title=\"windows环境下PHP安装扩展\"></a>windows环境下PHP安装扩展</h3><ul>\n<li><p>通过phpinfo()函数，进行查看扩展是否已安装</p>\n  <figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">    <span class=\"keyword\">echo</span> phpinfo();</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>根据php版本前往官方网址下载对应的扩展库</p>\n<p><a href=\"http://pecl.php.net/packages.php\">下载地址</a></p>\n<p>windows对应<code>dll</code>， nts非线程安全，ts线程安全，x64代表64位，x86代表32位。</p>\n</li>\n<li><p>将下载的扩展库文件放入对应的扩展库文件夹，修改php.ini, 以下以redis为例</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">extension=php_igbinary.dll</span><br><span class=\"line\">extension=php_redis.dll</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"linux-centos-redhat-环境下PHP安装扩展\"><a href=\"#linux-centos-redhat-环境下PHP安装扩展\" class=\"headerlink\" title=\"linux(centos/redhat)环境下PHP安装扩展\"></a>linux(centos/redhat)环境下PHP安装扩展</h3><h6 id=\"方法一-源码安装\"><a href=\"#方法一-源码安装\" class=\"headerlink\" title=\"方法一: 源码安装\"></a>方法一: 源码安装</h6><ol>\n<li><p>下载php版本对应的扩展源码包</p>\n<ul>\n<li><p>例如redis</p>\n<p><code>http://pecl.php.net/package/redis</code></p>\n</li>\n</ul>\n</li>\n<li><p>解压进入源码目录</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar -zxvf redis.tar.gz</span><br><span class=\"line\">   </span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> redis</span><br><span class=\"line\">   </span><br><span class=\"line\">$ /usr/bin/phpize </span><br><span class=\"line\">   </span><br><span class=\"line\">$ ./configure --with-php-config=/usr/bin/php-config</span><br><span class=\"line\">   </span><br><span class=\"line\">$ make &amp;&amp; make install</span><br><span class=\"line\">   </span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">&quot;extension=redis.so&quot;</span> &gt;&gt; /etc/php.ini</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h6 id=\"方法二-pecl扩展库安装\"><a href=\"#方法二-pecl扩展库安装\" class=\"headerlink\" title=\"方法二: pecl扩展库安装\"></a>方法二: pecl扩展库安装</h6><ul>\n<li><p>终端执行指令</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pecl install -o -f redis </span><br><span class=\"line\">  </span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">&quot;extension=redis.so&quot;</span> &gt;&gt; /etc/php.ini</span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure></li>\n</ul>\n","site":{"data":{"styles":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}},"excerpt":"","more":"<h3 id=\"windows环境下PHP安装扩展\"><a href=\"#windows环境下PHP安装扩展\" class=\"headerlink\" title=\"windows环境下PHP安装扩展\"></a>windows环境下PHP安装扩展</h3><ul>\n<li><p>通过phpinfo()函数，进行查看扩展是否已安装</p>\n  <figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">    <span class=\"keyword\">echo</span> phpinfo();</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>根据php版本前往官方网址下载对应的扩展库</p>\n<p><a href=\"http://pecl.php.net/packages.php\">下载地址</a></p>\n<p>windows对应<code>dll</code>， nts非线程安全，ts线程安全，x64代表64位，x86代表32位。</p>\n</li>\n<li><p>将下载的扩展库文件放入对应的扩展库文件夹，修改php.ini, 以下以redis为例</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">extension=php_igbinary.dll</span><br><span class=\"line\">extension=php_redis.dll</span><br></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<h3 id=\"linux-centos-redhat-环境下PHP安装扩展\"><a href=\"#linux-centos-redhat-环境下PHP安装扩展\" class=\"headerlink\" title=\"linux(centos/redhat)环境下PHP安装扩展\"></a>linux(centos/redhat)环境下PHP安装扩展</h3><h6 id=\"方法一-源码安装\"><a href=\"#方法一-源码安装\" class=\"headerlink\" title=\"方法一: 源码安装\"></a>方法一: 源码安装</h6><ol>\n<li><p>下载php版本对应的扩展源码包</p>\n<ul>\n<li><p>例如redis</p>\n<p><code>http://pecl.php.net/package/redis</code></p>\n</li>\n</ul>\n</li>\n<li><p>解压进入源码目录</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ tar -zxvf redis.tar.gz</span><br><span class=\"line\">   </span><br><span class=\"line\">$ <span class=\"built_in\">cd</span> redis</span><br><span class=\"line\">   </span><br><span class=\"line\">$ /usr/bin/phpize </span><br><span class=\"line\">   </span><br><span class=\"line\">$ ./configure --with-php-config=/usr/bin/php-config</span><br><span class=\"line\">   </span><br><span class=\"line\">$ make &amp;&amp; make install</span><br><span class=\"line\">   </span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">&quot;extension=redis.so&quot;</span> &gt;&gt; /etc/php.ini</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h6 id=\"方法二-pecl扩展库安装\"><a href=\"#方法二-pecl扩展库安装\" class=\"headerlink\" title=\"方法二: pecl扩展库安装\"></a>方法二: pecl扩展库安装</h6><ul>\n<li><p>终端执行指令</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pecl install -o -f redis </span><br><span class=\"line\">  </span><br><span class=\"line\">$ <span class=\"built_in\">echo</span> <span class=\"string\">&quot;extension=redis.so&quot;</span> &gt;&gt; /etc/php.ini</span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure></li>\n</ul>"},{"title":"使用php接入app支付","date":"2016-06-11T22:24:30.000Z","_content":"\n>使用php语言接入支付宝和微信的app支付, 基于`yansongda/pay`扩展包(非laravel版本) v2版本, laravel框架有单独的版本和使用方式\n\n\n<!-- more -->\n\n###### 文档地址\n\nhttps://pay.yansongda.cn/docs/v2/\n\n###### github地址\n\nhttps://github.com/yansongda/pay\n\n###### 支付宝配置\n\n具体商户如何申请移动应用和绑定参考[这里](https://www.jianshu.com/p/c15db5fb187b)\n\n```php\n<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Yansongda\\Pay\\Pay;\nuse Yansongda\\Pay\\Log;\n\nclass PayController\n{\n    protected $config = [\n        'app_id' => '2016082000295641',      // 申请的移动应用appid\n        'notify_url' => 'http://yansongda.cn/notify.php',  // 异步回调地址\n        'return_url' => 'http://yansongda.cn/return.php',  // 同步回调地址 一般不用\n\n        // ali_public_key是支付公钥， 不是应用公钥\n        'ali_public_key' => 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuWJKrQ6SWvS6niI+4vEVZiYfjkCfLQfoFI2nCp9ZLDS42QtiL4Ccyx8scgc3nhVwmVRte8f57TFvGhvJD0upT4O5O/lRxmTjechXAorirVdAODpOu0mFfQV9y/T9o9hHnU+VmO5spoVb3umqpq6D/Pt8p25Yk852/w01VTIczrXC4QlrbOEe3sr1E9auoC7rgYjjCO6lZUIDjX/oBmNXZxhRDrYx4Yf5X7y8FRBFvygIE2FgxV4Yw+SL3QAa2m5MLcbusJpxOml9YVQfP8iSurx41PvvXUMo49JG3BDVernaCYXQCoUJv9fJwbnfZd7J5YByC+5KM4sblJTq7bXZWQIDAQAB',\n        // 加密方式： **RSA2**  \n        'private_key' => 'MIIEpAIBAAKCAQEAs6+F2leOgOrvj9jTeDhb5q46GewOjqLBlGSs/bVL4Z3fMr3p+Q1Tux/6uogeVi/eHd84xvQdfpZ87A1SfoWnEGH5z15yorccxSOwWUI+q8gz51IWqjgZxhWKe31BxNZ+prnQpyeMBtE25fXp5nQZ/pftgePyUUvUZRcAUisswntobDQKbwx28VCXw5XB2A+lvYEvxmMv/QexYjwKK4M54j435TuC3UctZbnuynSPpOmCu45ZhEYXd4YMsGMdZE5/077ZU1aU7wx/gk07PiHImEOCDkzqsFo0Buc/knGcdOiUDvm2hn2y1XvwjyFOThsqCsQYi4JmwZdRa8kvOf57nwIDAQABAoIBAQCw5QCqln4VTrTvcW+msB1ReX57nJgsNfDLbV2dG8mLYQemBa9833DqDK6iynTLNq69y88ylose33o2TVtEccGp8Dqluv6yUAED14G6LexS43KtrXPgugAtsXE253ZDGUNwUggnN1i0MW2RcMqHdQ9ORDWvJUCeZj/AEafgPN8AyiLrZeL07jJz/uaRfAuNqkImCVIarKUX3HBCjl9TpuoMjcMhz/MsOmQ0agtCatO1eoH1sqv5Odvxb1i59c8Hvq/mGEXyRuoiDo05SE6IyXYXr84/Nf2xvVNHNQA6kTckj8shSi+HGM4mO1Y4Pbb7XcnxNkT0Inn6oJMSiy56P+CpAoGBAO1O+5FE1ZuVGuLb48cY+0lHCD+nhSBd66B5FrxgPYCkFOQWR7pWyfNDBlmO3SSooQ8TQXA25blrkDxzOAEGX57EPiipXr/hy5e+WNoukpy09rsO1TMsvC+v0FXLvZ+TIAkqfnYBgaT56ku7yZ8aFGMwdCPL7WJYAwUIcZX8wZ3dAoGBAMHWplAqhe4bfkGOEEpfs6VvEQxCqYMYVyR65K0rI1LiDZn6Ij8fdVtwMjGKFSZZTspmsqnbbuCE/VTyDzF4NpAxdm3cBtZACv1Lpu2Om+aTzhK2PI6WTDVTKAJBYegXaahBCqVbSxieR62IWtmOMjggTtAKWZ1P5LQcRwdkaB2rAoGAWnAPT318Kp7YcDx8whOzMGnxqtCc24jvk2iSUZgb2Dqv+3zCOTF6JUsV0Guxu5bISoZ8GdfSFKf5gBAo97sGFeuUBMsHYPkcLehM1FmLZk1Q+ljcx3P1A/ds3kWXLolTXCrlpvNMBSN5NwOKAyhdPK/qkvnUrfX8sJ5XK2H4J8ECgYAGIZ0HIiE0Y+g9eJnpUFelXvsCEUW9YNK4065SD/BBGedmPHRC3OLgbo8X5A9BNEf6vP7fwpIiRfKhcjqqzOuk6fueA/yvYD04v+Da2MzzoS8+hkcqF3T3pta4I4tORRdRfCUzD80zTSZlRc/h286Y2eTETd+By1onnFFe2X01mwKBgQDaxo4PBcLL2OyVT5DoXiIdTCJ8KNZL9+kV1aiBuOWxnRgkDjPngslzNa1bK+klGgJNYDbQqohKNn1HeFX3mYNfCUpuSnD2Yag53Dd/1DLO+NxzwvTu4D6DCUnMMMBVaF42ig31Bs0jI3JQZVqeeFzSET8fkoFopJf3G6UXlrIEAQ==',\n        // 使用公钥证书模式，请配置下面两个参数，同时修改ali_public_key为以.crt结尾的支付宝公钥证书路径，如（./cert/alipayCertPublicKey_RSA2.crt）\n        // 'app_cert_public_key' => './cert/appCertPublicKey.crt', //应用公钥证书路径\n        // 'alipay_root_cert' => './cert/alipayRootCert.crt', //支付宝根证书路径\n        'log' => [ // optional\n            'file' => './logs/alipay.log',\n            'level' => 'info', // 建议生产环境等级调整为 info，开发环境为 debug\n            'type' => 'single', // optional, 可选 daily.\n            'max_file' => 30, // optional, 当 type 为 daily 时有效，默认 30 天\n        ],\n        'http' => [ // optional\n            'timeout' => 5.0,\n            'connect_timeout' => 5.0,\n        ],\n        'mode' => 'dev', // optional,设置此参数，将进入沙箱模式\n    ];\n    \n    // 生成支付签名和参数\n    public function index()\n    {\n        $order = [\n            'out_trade_no' => '213213211312',  // 商户自己生成的内部唯一支付单号\n            'total_amount' => '0.01',  // 支付金额 单位元\n            'subject' => 'test subject - 测试',\n        ];\n\n        return Pay::alipay($this->config)->app($order)->getContent();\n       \n    }\n    \n    // 异步回调\n     public function notify()\n    {\n        // 验签\n        $alipay = Pay::alipay($this->config);\n        $data   = $alipay->verify();\n        \n        $out_trade_no   = $data->out_trade_no;  // 商户自己生成的内部唯一支付单号\n        $total_amount   = $data->total_amount;     // 支付金额 单位元\n        $trade_no       = $data->trade_no;  // 交易流水号\n    }\n    \n    // 发起退款申请\n    public function refund()\n    {\n        $refund_data = [\n            'type'           => 'app',  // 标识为app 必填为app\n            'trade_no'       => '2020123121212', // 原支付交易流水号\n            'out_request_no' => '3213213131213',  // 商户自己生成的内部唯一退款单号\n            'refund_amount'  => '0.01',  // 退款金额 单位元\n        ];\n        $result =  Pay::alipay($this->config)->refund($refund_data);\n        if ((string)$result->code !== '10000') {\n            // 接口调用失败\n            throw new \\Exception($result->msg);\n        } else {\n            // 接口调用成功\n        }       \n    }\n\n    // 退款查询\n    public function query_refund()\n    {\n        $data = [ \n            'type'           => 'app', // 标识为app 必填为app\n            'out_trade_no'   => '213213211312', // 原支付订单的内部唯一单号\n            'out_request_no' => '3213213131213',  // 商户自己生成的内部唯一退款单号\n        ];\n        $result = Pay::alipay($this->config)->find($data, 'refund');   \n        if ((string)$result->code !== '10000'){\n            // 未查到或者到账失败\n        } else {\n            // 查到到账信息\n            $trade_no = $result->trade_no;  // 退款交易单号\n            $money = $result->refund_amount;  // 退款金额 单位元\n        }              \n    }\n}\n\n```\n\n###### 微信支付配置\n - 具体如何申请商户号和app支付功能参考[这里](https://jingyan.baidu.com/article/02027811706ea61bcd9ce54c.html)\n - 具体配置参考[这里](https://app.applebyme.cn/doc/guide/wxpay.cshtml)\n\n```php\nnamespace App\\Http\\Controllers;\n\nuse Yansongda\\Pay\\Pay;\nuse Yansongda\\Pay\\Log;\n\nclass PayController\n{\n    protected $config = [\n        'appid' => 'wxb3fxxxxxxxxxxx', // APP APPID\n        //'app_id' => 'wxb3fxxxxxxxxxxx', // 公众号 APPID\n        //'miniapp_id' => 'wxb3fxxxxxxxxxxx', // 小程序 APPID\n        'mch_id' => '14577xxxx',  // 支付商户号id\n        'key' => 'mF2suE9sU6Mk1Cxxxxxxxxxxx',  // api支付秘钥\n        'notify_url' => 'http://yanda.net.cn/notify.php',  // 异步回调地址\n    \n        // api支付证书\n        'cert_client' => './cert/apiclient_cert.pem', // optional，退款等情况时用到\n        'cert_key' => './cert/apiclient_key.pem',// optional，退款等情况时用到\n    \n        'log' => [ // optional\n            'file' => './logs/wechat.log',\n            'level' => 'info', // 建议生产环境等级调整为 info，开发环境为 debug\n            'type' => 'single', // optional, 可选 daily.\n            'max_file' => 30, // optional, 当 type 为 daily 时有效，默认 30 天\n        ],\n        'http' => [ // optional\n            'timeout' => 5.0,\n            'connect_timeout' => 5.0,\n        ],\n        'mode' => 'dev', // optional, dev/hk;当为 `hk` 时，为香港 gateway。\n    ];\n    \n    // 生成支付签名和参数\n    public function index()\n    {\n        $order = [\n            'out_trade_no' => '213213211312',  // 商户自己生成的内部唯一支付单号\n            'total_fee' => '1',  // 支付金额 单位分\n            'body' => 'test subject - 测试',\n        ];\n\n        return Pay::wechat($this->config)->app($order)->getContent();\n    }\n    \n    // 异步回调\n     public function notify()\n    {\n        // 验签\n        $wechat = Pay::wechat($this->config);\n        $data   = $wechat->verify();\n        \n        $out_trade_no   = $data->out_trade_no;  // 商户自己生成的内部唯一支付单号\n        $total_fee      = $data->total_fee;     // 支付金额 单位分\n        $transaction_id = $data->transaction_id;  // 交易流水号\n    }\n    \n    // 发起退款申请\n    public function refund()\n    {\n        $refund_data = [\n            'type'           => 'app',  // 标识为app 必填为app\n            'transaction_id' => '2020123121212', // 原支付交易流水号\n            'out_refund_no'  => '3213213131213',  // 商户自己生成的内部唯一退款单号\n            'refund_fee'     => '1',  // 退款金额 单位分\n            'total_fee'      => '1',  // 原支付金额 单位分\n            'refund_desc'    => '退款测试',  \n        ];\n        $result =  Pay::wechat($this->config)->refund($refund_data);\n        if ((string)$result->return_code !== 'SUCCESS') {\n            // 接口调用失败\n            throw new \\Exception($result->return_msg);\n        } else {\n            // 接口调用成功\n        }       \n    }\n\n    // 退款查询\n    public function query_refund()\n    {\n        $data = [ \n            'type'           => 'app', // 标识为app 必填为app\n            'out_refund_no'  => '3213213131213',  // 商户自己生成的内部唯一退款单号\n        ];\n        $result = Pay::wechat($this->config)->find($data, 'refund');   \n        if ((string)$result->return_code !== 'SUCCESS'){\n            // 未查到或者到账失败\n        } else {\n            // 查到到账信息 多笔根据下标取, 下标从0开始\n            $trade_no = $result->refund_id_0;  // 退款交易单号\n            $money = $result->refund_fee_0;  // 退款金额 单位分\n        }              \n    }\n}\n\n```\n\n\n","source":"_posts/php/2021-03-10-app-pay.md","raw":"---\ntitle: 使用php接入app支付\ndate: 2016-06-12 06:24:30\ncategories: php\ntags:\n- php\n- app\n---\n\n>使用php语言接入支付宝和微信的app支付, 基于`yansongda/pay`扩展包(非laravel版本) v2版本, laravel框架有单独的版本和使用方式\n\n\n<!-- more -->\n\n###### 文档地址\n\nhttps://pay.yansongda.cn/docs/v2/\n\n###### github地址\n\nhttps://github.com/yansongda/pay\n\n###### 支付宝配置\n\n具体商户如何申请移动应用和绑定参考[这里](https://www.jianshu.com/p/c15db5fb187b)\n\n```php\n<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Yansongda\\Pay\\Pay;\nuse Yansongda\\Pay\\Log;\n\nclass PayController\n{\n    protected $config = [\n        'app_id' => '2016082000295641',      // 申请的移动应用appid\n        'notify_url' => 'http://yansongda.cn/notify.php',  // 异步回调地址\n        'return_url' => 'http://yansongda.cn/return.php',  // 同步回调地址 一般不用\n\n        // ali_public_key是支付公钥， 不是应用公钥\n        'ali_public_key' => 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuWJKrQ6SWvS6niI+4vEVZiYfjkCfLQfoFI2nCp9ZLDS42QtiL4Ccyx8scgc3nhVwmVRte8f57TFvGhvJD0upT4O5O/lRxmTjechXAorirVdAODpOu0mFfQV9y/T9o9hHnU+VmO5spoVb3umqpq6D/Pt8p25Yk852/w01VTIczrXC4QlrbOEe3sr1E9auoC7rgYjjCO6lZUIDjX/oBmNXZxhRDrYx4Yf5X7y8FRBFvygIE2FgxV4Yw+SL3QAa2m5MLcbusJpxOml9YVQfP8iSurx41PvvXUMo49JG3BDVernaCYXQCoUJv9fJwbnfZd7J5YByC+5KM4sblJTq7bXZWQIDAQAB',\n        // 加密方式： **RSA2**  \n        'private_key' => 'MIIEpAIBAAKCAQEAs6+F2leOgOrvj9jTeDhb5q46GewOjqLBlGSs/bVL4Z3fMr3p+Q1Tux/6uogeVi/eHd84xvQdfpZ87A1SfoWnEGH5z15yorccxSOwWUI+q8gz51IWqjgZxhWKe31BxNZ+prnQpyeMBtE25fXp5nQZ/pftgePyUUvUZRcAUisswntobDQKbwx28VCXw5XB2A+lvYEvxmMv/QexYjwKK4M54j435TuC3UctZbnuynSPpOmCu45ZhEYXd4YMsGMdZE5/077ZU1aU7wx/gk07PiHImEOCDkzqsFo0Buc/knGcdOiUDvm2hn2y1XvwjyFOThsqCsQYi4JmwZdRa8kvOf57nwIDAQABAoIBAQCw5QCqln4VTrTvcW+msB1ReX57nJgsNfDLbV2dG8mLYQemBa9833DqDK6iynTLNq69y88ylose33o2TVtEccGp8Dqluv6yUAED14G6LexS43KtrXPgugAtsXE253ZDGUNwUggnN1i0MW2RcMqHdQ9ORDWvJUCeZj/AEafgPN8AyiLrZeL07jJz/uaRfAuNqkImCVIarKUX3HBCjl9TpuoMjcMhz/MsOmQ0agtCatO1eoH1sqv5Odvxb1i59c8Hvq/mGEXyRuoiDo05SE6IyXYXr84/Nf2xvVNHNQA6kTckj8shSi+HGM4mO1Y4Pbb7XcnxNkT0Inn6oJMSiy56P+CpAoGBAO1O+5FE1ZuVGuLb48cY+0lHCD+nhSBd66B5FrxgPYCkFOQWR7pWyfNDBlmO3SSooQ8TQXA25blrkDxzOAEGX57EPiipXr/hy5e+WNoukpy09rsO1TMsvC+v0FXLvZ+TIAkqfnYBgaT56ku7yZ8aFGMwdCPL7WJYAwUIcZX8wZ3dAoGBAMHWplAqhe4bfkGOEEpfs6VvEQxCqYMYVyR65K0rI1LiDZn6Ij8fdVtwMjGKFSZZTspmsqnbbuCE/VTyDzF4NpAxdm3cBtZACv1Lpu2Om+aTzhK2PI6WTDVTKAJBYegXaahBCqVbSxieR62IWtmOMjggTtAKWZ1P5LQcRwdkaB2rAoGAWnAPT318Kp7YcDx8whOzMGnxqtCc24jvk2iSUZgb2Dqv+3zCOTF6JUsV0Guxu5bISoZ8GdfSFKf5gBAo97sGFeuUBMsHYPkcLehM1FmLZk1Q+ljcx3P1A/ds3kWXLolTXCrlpvNMBSN5NwOKAyhdPK/qkvnUrfX8sJ5XK2H4J8ECgYAGIZ0HIiE0Y+g9eJnpUFelXvsCEUW9YNK4065SD/BBGedmPHRC3OLgbo8X5A9BNEf6vP7fwpIiRfKhcjqqzOuk6fueA/yvYD04v+Da2MzzoS8+hkcqF3T3pta4I4tORRdRfCUzD80zTSZlRc/h286Y2eTETd+By1onnFFe2X01mwKBgQDaxo4PBcLL2OyVT5DoXiIdTCJ8KNZL9+kV1aiBuOWxnRgkDjPngslzNa1bK+klGgJNYDbQqohKNn1HeFX3mYNfCUpuSnD2Yag53Dd/1DLO+NxzwvTu4D6DCUnMMMBVaF42ig31Bs0jI3JQZVqeeFzSET8fkoFopJf3G6UXlrIEAQ==',\n        // 使用公钥证书模式，请配置下面两个参数，同时修改ali_public_key为以.crt结尾的支付宝公钥证书路径，如（./cert/alipayCertPublicKey_RSA2.crt）\n        // 'app_cert_public_key' => './cert/appCertPublicKey.crt', //应用公钥证书路径\n        // 'alipay_root_cert' => './cert/alipayRootCert.crt', //支付宝根证书路径\n        'log' => [ // optional\n            'file' => './logs/alipay.log',\n            'level' => 'info', // 建议生产环境等级调整为 info，开发环境为 debug\n            'type' => 'single', // optional, 可选 daily.\n            'max_file' => 30, // optional, 当 type 为 daily 时有效，默认 30 天\n        ],\n        'http' => [ // optional\n            'timeout' => 5.0,\n            'connect_timeout' => 5.0,\n        ],\n        'mode' => 'dev', // optional,设置此参数，将进入沙箱模式\n    ];\n    \n    // 生成支付签名和参数\n    public function index()\n    {\n        $order = [\n            'out_trade_no' => '213213211312',  // 商户自己生成的内部唯一支付单号\n            'total_amount' => '0.01',  // 支付金额 单位元\n            'subject' => 'test subject - 测试',\n        ];\n\n        return Pay::alipay($this->config)->app($order)->getContent();\n       \n    }\n    \n    // 异步回调\n     public function notify()\n    {\n        // 验签\n        $alipay = Pay::alipay($this->config);\n        $data   = $alipay->verify();\n        \n        $out_trade_no   = $data->out_trade_no;  // 商户自己生成的内部唯一支付单号\n        $total_amount   = $data->total_amount;     // 支付金额 单位元\n        $trade_no       = $data->trade_no;  // 交易流水号\n    }\n    \n    // 发起退款申请\n    public function refund()\n    {\n        $refund_data = [\n            'type'           => 'app',  // 标识为app 必填为app\n            'trade_no'       => '2020123121212', // 原支付交易流水号\n            'out_request_no' => '3213213131213',  // 商户自己生成的内部唯一退款单号\n            'refund_amount'  => '0.01',  // 退款金额 单位元\n        ];\n        $result =  Pay::alipay($this->config)->refund($refund_data);\n        if ((string)$result->code !== '10000') {\n            // 接口调用失败\n            throw new \\Exception($result->msg);\n        } else {\n            // 接口调用成功\n        }       \n    }\n\n    // 退款查询\n    public function query_refund()\n    {\n        $data = [ \n            'type'           => 'app', // 标识为app 必填为app\n            'out_trade_no'   => '213213211312', // 原支付订单的内部唯一单号\n            'out_request_no' => '3213213131213',  // 商户自己生成的内部唯一退款单号\n        ];\n        $result = Pay::alipay($this->config)->find($data, 'refund');   \n        if ((string)$result->code !== '10000'){\n            // 未查到或者到账失败\n        } else {\n            // 查到到账信息\n            $trade_no = $result->trade_no;  // 退款交易单号\n            $money = $result->refund_amount;  // 退款金额 单位元\n        }              \n    }\n}\n\n```\n\n###### 微信支付配置\n - 具体如何申请商户号和app支付功能参考[这里](https://jingyan.baidu.com/article/02027811706ea61bcd9ce54c.html)\n - 具体配置参考[这里](https://app.applebyme.cn/doc/guide/wxpay.cshtml)\n\n```php\nnamespace App\\Http\\Controllers;\n\nuse Yansongda\\Pay\\Pay;\nuse Yansongda\\Pay\\Log;\n\nclass PayController\n{\n    protected $config = [\n        'appid' => 'wxb3fxxxxxxxxxxx', // APP APPID\n        //'app_id' => 'wxb3fxxxxxxxxxxx', // 公众号 APPID\n        //'miniapp_id' => 'wxb3fxxxxxxxxxxx', // 小程序 APPID\n        'mch_id' => '14577xxxx',  // 支付商户号id\n        'key' => 'mF2suE9sU6Mk1Cxxxxxxxxxxx',  // api支付秘钥\n        'notify_url' => 'http://yanda.net.cn/notify.php',  // 异步回调地址\n    \n        // api支付证书\n        'cert_client' => './cert/apiclient_cert.pem', // optional，退款等情况时用到\n        'cert_key' => './cert/apiclient_key.pem',// optional，退款等情况时用到\n    \n        'log' => [ // optional\n            'file' => './logs/wechat.log',\n            'level' => 'info', // 建议生产环境等级调整为 info，开发环境为 debug\n            'type' => 'single', // optional, 可选 daily.\n            'max_file' => 30, // optional, 当 type 为 daily 时有效，默认 30 天\n        ],\n        'http' => [ // optional\n            'timeout' => 5.0,\n            'connect_timeout' => 5.0,\n        ],\n        'mode' => 'dev', // optional, dev/hk;当为 `hk` 时，为香港 gateway。\n    ];\n    \n    // 生成支付签名和参数\n    public function index()\n    {\n        $order = [\n            'out_trade_no' => '213213211312',  // 商户自己生成的内部唯一支付单号\n            'total_fee' => '1',  // 支付金额 单位分\n            'body' => 'test subject - 测试',\n        ];\n\n        return Pay::wechat($this->config)->app($order)->getContent();\n    }\n    \n    // 异步回调\n     public function notify()\n    {\n        // 验签\n        $wechat = Pay::wechat($this->config);\n        $data   = $wechat->verify();\n        \n        $out_trade_no   = $data->out_trade_no;  // 商户自己生成的内部唯一支付单号\n        $total_fee      = $data->total_fee;     // 支付金额 单位分\n        $transaction_id = $data->transaction_id;  // 交易流水号\n    }\n    \n    // 发起退款申请\n    public function refund()\n    {\n        $refund_data = [\n            'type'           => 'app',  // 标识为app 必填为app\n            'transaction_id' => '2020123121212', // 原支付交易流水号\n            'out_refund_no'  => '3213213131213',  // 商户自己生成的内部唯一退款单号\n            'refund_fee'     => '1',  // 退款金额 单位分\n            'total_fee'      => '1',  // 原支付金额 单位分\n            'refund_desc'    => '退款测试',  \n        ];\n        $result =  Pay::wechat($this->config)->refund($refund_data);\n        if ((string)$result->return_code !== 'SUCCESS') {\n            // 接口调用失败\n            throw new \\Exception($result->return_msg);\n        } else {\n            // 接口调用成功\n        }       \n    }\n\n    // 退款查询\n    public function query_refund()\n    {\n        $data = [ \n            'type'           => 'app', // 标识为app 必填为app\n            'out_refund_no'  => '3213213131213',  // 商户自己生成的内部唯一退款单号\n        ];\n        $result = Pay::wechat($this->config)->find($data, 'refund');   \n        if ((string)$result->return_code !== 'SUCCESS'){\n            // 未查到或者到账失败\n        } else {\n            // 查到到账信息 多笔根据下标取, 下标从0开始\n            $trade_no = $result->refund_id_0;  // 退款交易单号\n            $money = $result->refund_fee_0;  // 退款金额 单位分\n        }              \n    }\n}\n\n```\n\n\n","slug":"php/2021-03-10-app-pay","published":1,"updated":"2021-03-12T07:55:56.136Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckngrcixl0009z6dbc4p2d3j6","content":"<blockquote>\n<p>使用php语言接入支付宝和微信的app支付, 基于<code>yansongda/pay</code>扩展包(非laravel版本) v2版本, laravel框架有单独的版本和使用方式</p>\n</blockquote>\n<a id=\"more\"></a>\n\n<h6 id=\"文档地址\"><a href=\"#文档地址\" class=\"headerlink\" title=\"文档地址\"></a>文档地址</h6><p><a href=\"https://pay.yansongda.cn/docs/v2/\">https://pay.yansongda.cn/docs/v2/</a></p>\n<h6 id=\"github地址\"><a href=\"#github地址\" class=\"headerlink\" title=\"github地址\"></a>github地址</h6><p><a href=\"https://github.com/yansongda/pay\">https://github.com/yansongda/pay</a></p>\n<h6 id=\"支付宝配置\"><a href=\"#支付宝配置\" class=\"headerlink\" title=\"支付宝配置\"></a>支付宝配置</h6><p>具体商户如何申请移动应用和绑定参考<a href=\"https://www.jianshu.com/p/c15db5fb187b\">这里</a></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">App</span>\\<span class=\"title\">Http</span>\\<span class=\"title\">Controllers</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Yansongda</span>\\<span class=\"title\">Pay</span>\\<span class=\"title\">Pay</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Yansongda</span>\\<span class=\"title\">Pay</span>\\<span class=\"title\">Log</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PayController</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"variable\">$config</span> = [</span><br><span class=\"line\">        <span class=\"string\">&#x27;app_id&#x27;</span> =&gt; <span class=\"string\">&#x27;2016082000295641&#x27;</span>,      <span class=\"comment\">// 申请的移动应用appid</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;notify_url&#x27;</span> =&gt; <span class=\"string\">&#x27;http://yansongda.cn/notify.php&#x27;</span>,  <span class=\"comment\">// 异步回调地址</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;return_url&#x27;</span> =&gt; <span class=\"string\">&#x27;http://yansongda.cn/return.php&#x27;</span>,  <span class=\"comment\">// 同步回调地址 一般不用</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ali_public_key是支付公钥， 不是应用公钥</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;ali_public_key&#x27;</span> =&gt; <span class=\"string\">&#x27;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuWJKrQ6SWvS6niI+4vEVZiYfjkCfLQfoFI2nCp9ZLDS42QtiL4Ccyx8scgc3nhVwmVRte8f57TFvGhvJD0upT4O5O/lRxmTjechXAorirVdAODpOu0mFfQV9y/T9o9hHnU+VmO5spoVb3umqpq6D/Pt8p25Yk852/w01VTIczrXC4QlrbOEe3sr1E9auoC7rgYjjCO6lZUIDjX/oBmNXZxhRDrYx4Yf5X7y8FRBFvygIE2FgxV4Yw+SL3QAa2m5MLcbusJpxOml9YVQfP8iSurx41PvvXUMo49JG3BDVernaCYXQCoUJv9fJwbnfZd7J5YByC+5KM4sblJTq7bXZWQIDAQAB&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// 加密方式： **RSA2**  </span></span><br><span class=\"line\">        <span class=\"string\">&#x27;private_key&#x27;</span> =&gt; <span class=\"string\">&#x27;MIIEpAIBAAKCAQEAs6+F2leOgOrvj9jTeDhb5q46GewOjqLBlGSs/bVL4Z3fMr3p+Q1Tux/6uogeVi/eHd84xvQdfpZ87A1SfoWnEGH5z15yorccxSOwWUI+q8gz51IWqjgZxhWKe31BxNZ+prnQpyeMBtE25fXp5nQZ/pftgePyUUvUZRcAUisswntobDQKbwx28VCXw5XB2A+lvYEvxmMv/QexYjwKK4M54j435TuC3UctZbnuynSPpOmCu45ZhEYXd4YMsGMdZE5/077ZU1aU7wx/gk07PiHImEOCDkzqsFo0Buc/knGcdOiUDvm2hn2y1XvwjyFOThsqCsQYi4JmwZdRa8kvOf57nwIDAQABAoIBAQCw5QCqln4VTrTvcW+msB1ReX57nJgsNfDLbV2dG8mLYQemBa9833DqDK6iynTLNq69y88ylose33o2TVtEccGp8Dqluv6yUAED14G6LexS43KtrXPgugAtsXE253ZDGUNwUggnN1i0MW2RcMqHdQ9ORDWvJUCeZj/AEafgPN8AyiLrZeL07jJz/uaRfAuNqkImCVIarKUX3HBCjl9TpuoMjcMhz/MsOmQ0agtCatO1eoH1sqv5Odvxb1i59c8Hvq/mGEXyRuoiDo05SE6IyXYXr84/Nf2xvVNHNQA6kTckj8shSi+HGM4mO1Y4Pbb7XcnxNkT0Inn6oJMSiy56P+CpAoGBAO1O+5FE1ZuVGuLb48cY+0lHCD+nhSBd66B5FrxgPYCkFOQWR7pWyfNDBlmO3SSooQ8TQXA25blrkDxzOAEGX57EPiipXr/hy5e+WNoukpy09rsO1TMsvC+v0FXLvZ+TIAkqfnYBgaT56ku7yZ8aFGMwdCPL7WJYAwUIcZX8wZ3dAoGBAMHWplAqhe4bfkGOEEpfs6VvEQxCqYMYVyR65K0rI1LiDZn6Ij8fdVtwMjGKFSZZTspmsqnbbuCE/VTyDzF4NpAxdm3cBtZACv1Lpu2Om+aTzhK2PI6WTDVTKAJBYegXaahBCqVbSxieR62IWtmOMjggTtAKWZ1P5LQcRwdkaB2rAoGAWnAPT318Kp7YcDx8whOzMGnxqtCc24jvk2iSUZgb2Dqv+3zCOTF6JUsV0Guxu5bISoZ8GdfSFKf5gBAo97sGFeuUBMsHYPkcLehM1FmLZk1Q+ljcx3P1A/ds3kWXLolTXCrlpvNMBSN5NwOKAyhdPK/qkvnUrfX8sJ5XK2H4J8ECgYAGIZ0HIiE0Y+g9eJnpUFelXvsCEUW9YNK4065SD/BBGedmPHRC3OLgbo8X5A9BNEf6vP7fwpIiRfKhcjqqzOuk6fueA/yvYD04v+Da2MzzoS8+hkcqF3T3pta4I4tORRdRfCUzD80zTSZlRc/h286Y2eTETd+By1onnFFe2X01mwKBgQDaxo4PBcLL2OyVT5DoXiIdTCJ8KNZL9+kV1aiBuOWxnRgkDjPngslzNa1bK+klGgJNYDbQqohKNn1HeFX3mYNfCUpuSnD2Yag53Dd/1DLO+NxzwvTu4D6DCUnMMMBVaF42ig31Bs0jI3JQZVqeeFzSET8fkoFopJf3G6UXlrIEAQ==&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// 使用公钥证书模式，请配置下面两个参数，同时修改ali_public_key为以.crt结尾的支付宝公钥证书路径，如（./cert/alipayCertPublicKey_RSA2.crt）</span></span><br><span class=\"line\">        <span class=\"comment\">// &#x27;app_cert_public_key&#x27; =&gt; &#x27;./cert/appCertPublicKey.crt&#x27;, //应用公钥证书路径</span></span><br><span class=\"line\">        <span class=\"comment\">// &#x27;alipay_root_cert&#x27; =&gt; &#x27;./cert/alipayRootCert.crt&#x27;, //支付宝根证书路径</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;log&#x27;</span> =&gt; [ <span class=\"comment\">// optional</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;file&#x27;</span> =&gt; <span class=\"string\">&#x27;./logs/alipay.log&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;level&#x27;</span> =&gt; <span class=\"string\">&#x27;info&#x27;</span>, <span class=\"comment\">// 建议生产环境等级调整为 info，开发环境为 debug</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span> =&gt; <span class=\"string\">&#x27;single&#x27;</span>, <span class=\"comment\">// optional, 可选 daily.</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;max_file&#x27;</span> =&gt; <span class=\"number\">30</span>, <span class=\"comment\">// optional, 当 type 为 daily 时有效，默认 30 天</span></span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">&#x27;http&#x27;</span> =&gt; [ <span class=\"comment\">// optional</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;timeout&#x27;</span> =&gt; <span class=\"number\">5.0</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;connect_timeout&#x27;</span> =&gt; <span class=\"number\">5.0</span>,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">&#x27;mode&#x27;</span> =&gt; <span class=\"string\">&#x27;dev&#x27;</span>, <span class=\"comment\">// optional,设置此参数，将进入沙箱模式</span></span><br><span class=\"line\">    ];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 生成支付签名和参数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">index</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$order</span> = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;out_trade_no&#x27;</span> =&gt; <span class=\"string\">&#x27;213213211312&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一支付单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;total_amount&#x27;</span> =&gt; <span class=\"string\">&#x27;0.01&#x27;</span>,  <span class=\"comment\">// 支付金额 单位元</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;subject&#x27;</span> =&gt; <span class=\"string\">&#x27;test subject - 测试&#x27;</span>,</span><br><span class=\"line\">        ];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Pay::alipay(<span class=\"keyword\">$this</span>-&gt;config)-&gt;app(<span class=\"variable\">$order</span>)-&gt;getContent();</span><br><span class=\"line\">       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 异步回调</span></span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 验签</span></span><br><span class=\"line\">        <span class=\"variable\">$alipay</span> = Pay::alipay(<span class=\"keyword\">$this</span>-&gt;config);</span><br><span class=\"line\">        <span class=\"variable\">$data</span>   = <span class=\"variable\">$alipay</span>-&gt;verify();</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"variable\">$out_trade_no</span>   = <span class=\"variable\">$data</span>-&gt;out_trade_no;  <span class=\"comment\">// 商户自己生成的内部唯一支付单号</span></span><br><span class=\"line\">        <span class=\"variable\">$total_amount</span>   = <span class=\"variable\">$data</span>-&gt;total_amount;     <span class=\"comment\">// 支付金额 单位元</span></span><br><span class=\"line\">        <span class=\"variable\">$trade_no</span>       = <span class=\"variable\">$data</span>-&gt;trade_no;  <span class=\"comment\">// 交易流水号</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 发起退款申请</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">refund</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$refund_data</span> = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span>           =&gt; <span class=\"string\">&#x27;app&#x27;</span>,  <span class=\"comment\">// 标识为app 必填为app</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;trade_no&#x27;</span>       =&gt; <span class=\"string\">&#x27;2020123121212&#x27;</span>, <span class=\"comment\">// 原支付交易流水号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_request_no&#x27;</span> =&gt; <span class=\"string\">&#x27;3213213131213&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一退款单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;refund_amount&#x27;</span>  =&gt; <span class=\"string\">&#x27;0.01&#x27;</span>,  <span class=\"comment\">// 退款金额 单位元</span></span><br><span class=\"line\">        ];</span><br><span class=\"line\">        <span class=\"variable\">$result</span> =  Pay::alipay(<span class=\"keyword\">$this</span>-&gt;config)-&gt;refund(<span class=\"variable\">$refund_data</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((<span class=\"keyword\">string</span>)<span class=\"variable\">$result</span>-&gt;code !== <span class=\"string\">&#x27;10000&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 接口调用失败</span></span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> \\<span class=\"built_in\">Exception</span>(<span class=\"variable\">$result</span>-&gt;msg);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 接口调用成功</span></span><br><span class=\"line\">        &#125;       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 退款查询</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">query_refund</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$data</span> = [ </span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span>           =&gt; <span class=\"string\">&#x27;app&#x27;</span>, <span class=\"comment\">// 标识为app 必填为app</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_trade_no&#x27;</span>   =&gt; <span class=\"string\">&#x27;213213211312&#x27;</span>, <span class=\"comment\">// 原支付订单的内部唯一单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_request_no&#x27;</span> =&gt; <span class=\"string\">&#x27;3213213131213&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一退款单号</span></span><br><span class=\"line\">        ];</span><br><span class=\"line\">        <span class=\"variable\">$result</span> = Pay::alipay(<span class=\"keyword\">$this</span>-&gt;config)-&gt;find(<span class=\"variable\">$data</span>, <span class=\"string\">&#x27;refund&#x27;</span>);   </span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((<span class=\"keyword\">string</span>)<span class=\"variable\">$result</span>-&gt;code !== <span class=\"string\">&#x27;10000&#x27;</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 未查到或者到账失败</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 查到到账信息</span></span><br><span class=\"line\">            <span class=\"variable\">$trade_no</span> = <span class=\"variable\">$result</span>-&gt;trade_no;  <span class=\"comment\">// 退款交易单号</span></span><br><span class=\"line\">            <span class=\"variable\">$money</span> = <span class=\"variable\">$result</span>-&gt;refund_amount;  <span class=\"comment\">// 退款金额 单位元</span></span><br><span class=\"line\">        &#125;              </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"微信支付配置\"><a href=\"#微信支付配置\" class=\"headerlink\" title=\"微信支付配置\"></a>微信支付配置</h6><ul>\n<li>具体如何申请商户号和app支付功能参考<a href=\"https://jingyan.baidu.com/article/02027811706ea61bcd9ce54c.html\">这里</a></li>\n<li>具体配置参考<a href=\"https://app.applebyme.cn/doc/guide/wxpay.cshtml\">这里</a></li>\n</ul>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">App</span>\\<span class=\"title\">Http</span>\\<span class=\"title\">Controllers</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Yansongda</span>\\<span class=\"title\">Pay</span>\\<span class=\"title\">Pay</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Yansongda</span>\\<span class=\"title\">Pay</span>\\<span class=\"title\">Log</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PayController</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"variable\">$config</span> = [</span><br><span class=\"line\">        <span class=\"string\">&#x27;appid&#x27;</span> =&gt; <span class=\"string\">&#x27;wxb3fxxxxxxxxxxx&#x27;</span>, <span class=\"comment\">// APP APPID</span></span><br><span class=\"line\">        <span class=\"comment\">//&#x27;app_id&#x27; =&gt; &#x27;wxb3fxxxxxxxxxxx&#x27;, // 公众号 APPID</span></span><br><span class=\"line\">        <span class=\"comment\">//&#x27;miniapp_id&#x27; =&gt; &#x27;wxb3fxxxxxxxxxxx&#x27;, // 小程序 APPID</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;mch_id&#x27;</span> =&gt; <span class=\"string\">&#x27;14577xxxx&#x27;</span>,  <span class=\"comment\">// 支付商户号id</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;key&#x27;</span> =&gt; <span class=\"string\">&#x27;mF2suE9sU6Mk1Cxxxxxxxxxxx&#x27;</span>,  <span class=\"comment\">// api支付秘钥</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;notify_url&#x27;</span> =&gt; <span class=\"string\">&#x27;http://yanda.net.cn/notify.php&#x27;</span>,  <span class=\"comment\">// 异步回调地址</span></span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"comment\">// api支付证书</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;cert_client&#x27;</span> =&gt; <span class=\"string\">&#x27;./cert/apiclient_cert.pem&#x27;</span>, <span class=\"comment\">// optional，退款等情况时用到</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;cert_key&#x27;</span> =&gt; <span class=\"string\">&#x27;./cert/apiclient_key.pem&#x27;</span>,<span class=\"comment\">// optional，退款等情况时用到</span></span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"string\">&#x27;log&#x27;</span> =&gt; [ <span class=\"comment\">// optional</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;file&#x27;</span> =&gt; <span class=\"string\">&#x27;./logs/wechat.log&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;level&#x27;</span> =&gt; <span class=\"string\">&#x27;info&#x27;</span>, <span class=\"comment\">// 建议生产环境等级调整为 info，开发环境为 debug</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span> =&gt; <span class=\"string\">&#x27;single&#x27;</span>, <span class=\"comment\">// optional, 可选 daily.</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;max_file&#x27;</span> =&gt; <span class=\"number\">30</span>, <span class=\"comment\">// optional, 当 type 为 daily 时有效，默认 30 天</span></span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">&#x27;http&#x27;</span> =&gt; [ <span class=\"comment\">// optional</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;timeout&#x27;</span> =&gt; <span class=\"number\">5.0</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;connect_timeout&#x27;</span> =&gt; <span class=\"number\">5.0</span>,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">&#x27;mode&#x27;</span> =&gt; <span class=\"string\">&#x27;dev&#x27;</span>, <span class=\"comment\">// optional, dev/hk;当为 `hk` 时，为香港 gateway。</span></span><br><span class=\"line\">    ];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 生成支付签名和参数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">index</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$order</span> = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;out_trade_no&#x27;</span> =&gt; <span class=\"string\">&#x27;213213211312&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一支付单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;total_fee&#x27;</span> =&gt; <span class=\"string\">&#x27;1&#x27;</span>,  <span class=\"comment\">// 支付金额 单位分</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;body&#x27;</span> =&gt; <span class=\"string\">&#x27;test subject - 测试&#x27;</span>,</span><br><span class=\"line\">        ];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Pay::wechat(<span class=\"keyword\">$this</span>-&gt;config)-&gt;app(<span class=\"variable\">$order</span>)-&gt;getContent();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 异步回调</span></span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 验签</span></span><br><span class=\"line\">        <span class=\"variable\">$wechat</span> = Pay::wechat(<span class=\"keyword\">$this</span>-&gt;config);</span><br><span class=\"line\">        <span class=\"variable\">$data</span>   = <span class=\"variable\">$wechat</span>-&gt;verify();</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"variable\">$out_trade_no</span>   = <span class=\"variable\">$data</span>-&gt;out_trade_no;  <span class=\"comment\">// 商户自己生成的内部唯一支付单号</span></span><br><span class=\"line\">        <span class=\"variable\">$total_fee</span>      = <span class=\"variable\">$data</span>-&gt;total_fee;     <span class=\"comment\">// 支付金额 单位分</span></span><br><span class=\"line\">        <span class=\"variable\">$transaction_id</span> = <span class=\"variable\">$data</span>-&gt;transaction_id;  <span class=\"comment\">// 交易流水号</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 发起退款申请</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">refund</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$refund_data</span> = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span>           =&gt; <span class=\"string\">&#x27;app&#x27;</span>,  <span class=\"comment\">// 标识为app 必填为app</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;transaction_id&#x27;</span> =&gt; <span class=\"string\">&#x27;2020123121212&#x27;</span>, <span class=\"comment\">// 原支付交易流水号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_refund_no&#x27;</span>  =&gt; <span class=\"string\">&#x27;3213213131213&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一退款单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;refund_fee&#x27;</span>     =&gt; <span class=\"string\">&#x27;1&#x27;</span>,  <span class=\"comment\">// 退款金额 单位分</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;total_fee&#x27;</span>      =&gt; <span class=\"string\">&#x27;1&#x27;</span>,  <span class=\"comment\">// 原支付金额 单位分</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;refund_desc&#x27;</span>    =&gt; <span class=\"string\">&#x27;退款测试&#x27;</span>,  </span><br><span class=\"line\">        ];</span><br><span class=\"line\">        <span class=\"variable\">$result</span> =  Pay::wechat(<span class=\"keyword\">$this</span>-&gt;config)-&gt;refund(<span class=\"variable\">$refund_data</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((<span class=\"keyword\">string</span>)<span class=\"variable\">$result</span>-&gt;return_code !== <span class=\"string\">&#x27;SUCCESS&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 接口调用失败</span></span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> \\<span class=\"built_in\">Exception</span>(<span class=\"variable\">$result</span>-&gt;return_msg);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 接口调用成功</span></span><br><span class=\"line\">        &#125;       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 退款查询</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">query_refund</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$data</span> = [ </span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span>           =&gt; <span class=\"string\">&#x27;app&#x27;</span>, <span class=\"comment\">// 标识为app 必填为app</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_refund_no&#x27;</span>  =&gt; <span class=\"string\">&#x27;3213213131213&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一退款单号</span></span><br><span class=\"line\">        ];</span><br><span class=\"line\">        <span class=\"variable\">$result</span> = Pay::wechat(<span class=\"keyword\">$this</span>-&gt;config)-&gt;find(<span class=\"variable\">$data</span>, <span class=\"string\">&#x27;refund&#x27;</span>);   </span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((<span class=\"keyword\">string</span>)<span class=\"variable\">$result</span>-&gt;return_code !== <span class=\"string\">&#x27;SUCCESS&#x27;</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 未查到或者到账失败</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 查到到账信息 多笔根据下标取, 下标从0开始</span></span><br><span class=\"line\">            <span class=\"variable\">$trade_no</span> = <span class=\"variable\">$result</span>-&gt;refund_id_0;  <span class=\"comment\">// 退款交易单号</span></span><br><span class=\"line\">            <span class=\"variable\">$money</span> = <span class=\"variable\">$result</span>-&gt;refund_fee_0;  <span class=\"comment\">// 退款金额 单位分</span></span><br><span class=\"line\">        &#125;              </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{"styles":"body {\n  background: url(\"https://cdn.jsdelivr.net/gh/Madoka-Kaname/Madoka-Kaname.github.io/images/background.jpg\");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n  background-position: 50% 50%;\n}\n.content-wrap {\n  opacity: 0.9;\n}\n.sidebar {\n  opacity: 0.9;\n}\n.header-inner {\n  background: #fff;\n  opacity: 1;\n}\n.main-inner {\n  opacity: 0.9;\n}\n"}},"excerpt":"<blockquote>\n<p>使用php语言接入支付宝和微信的app支付, 基于<code>yansongda/pay</code>扩展包(非laravel版本) v2版本, laravel框架有单独的版本和使用方式</p>\n</blockquote>","more":"<h6 id=\"文档地址\"><a href=\"#文档地址\" class=\"headerlink\" title=\"文档地址\"></a>文档地址</h6><p><a href=\"https://pay.yansongda.cn/docs/v2/\">https://pay.yansongda.cn/docs/v2/</a></p>\n<h6 id=\"github地址\"><a href=\"#github地址\" class=\"headerlink\" title=\"github地址\"></a>github地址</h6><p><a href=\"https://github.com/yansongda/pay\">https://github.com/yansongda/pay</a></p>\n<h6 id=\"支付宝配置\"><a href=\"#支付宝配置\" class=\"headerlink\" title=\"支付宝配置\"></a>支付宝配置</h6><p>具体商户如何申请移动应用和绑定参考<a href=\"https://www.jianshu.com/p/c15db5fb187b\">这里</a></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">App</span>\\<span class=\"title\">Http</span>\\<span class=\"title\">Controllers</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Yansongda</span>\\<span class=\"title\">Pay</span>\\<span class=\"title\">Pay</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Yansongda</span>\\<span class=\"title\">Pay</span>\\<span class=\"title\">Log</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PayController</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"variable\">$config</span> = [</span><br><span class=\"line\">        <span class=\"string\">&#x27;app_id&#x27;</span> =&gt; <span class=\"string\">&#x27;2016082000295641&#x27;</span>,      <span class=\"comment\">// 申请的移动应用appid</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;notify_url&#x27;</span> =&gt; <span class=\"string\">&#x27;http://yansongda.cn/notify.php&#x27;</span>,  <span class=\"comment\">// 异步回调地址</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;return_url&#x27;</span> =&gt; <span class=\"string\">&#x27;http://yansongda.cn/return.php&#x27;</span>,  <span class=\"comment\">// 同步回调地址 一般不用</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ali_public_key是支付公钥， 不是应用公钥</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;ali_public_key&#x27;</span> =&gt; <span class=\"string\">&#x27;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuWJKrQ6SWvS6niI+4vEVZiYfjkCfLQfoFI2nCp9ZLDS42QtiL4Ccyx8scgc3nhVwmVRte8f57TFvGhvJD0upT4O5O/lRxmTjechXAorirVdAODpOu0mFfQV9y/T9o9hHnU+VmO5spoVb3umqpq6D/Pt8p25Yk852/w01VTIczrXC4QlrbOEe3sr1E9auoC7rgYjjCO6lZUIDjX/oBmNXZxhRDrYx4Yf5X7y8FRBFvygIE2FgxV4Yw+SL3QAa2m5MLcbusJpxOml9YVQfP8iSurx41PvvXUMo49JG3BDVernaCYXQCoUJv9fJwbnfZd7J5YByC+5KM4sblJTq7bXZWQIDAQAB&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// 加密方式： **RSA2**  </span></span><br><span class=\"line\">        <span class=\"string\">&#x27;private_key&#x27;</span> =&gt; <span class=\"string\">&#x27;MIIEpAIBAAKCAQEAs6+F2leOgOrvj9jTeDhb5q46GewOjqLBlGSs/bVL4Z3fMr3p+Q1Tux/6uogeVi/eHd84xvQdfpZ87A1SfoWnEGH5z15yorccxSOwWUI+q8gz51IWqjgZxhWKe31BxNZ+prnQpyeMBtE25fXp5nQZ/pftgePyUUvUZRcAUisswntobDQKbwx28VCXw5XB2A+lvYEvxmMv/QexYjwKK4M54j435TuC3UctZbnuynSPpOmCu45ZhEYXd4YMsGMdZE5/077ZU1aU7wx/gk07PiHImEOCDkzqsFo0Buc/knGcdOiUDvm2hn2y1XvwjyFOThsqCsQYi4JmwZdRa8kvOf57nwIDAQABAoIBAQCw5QCqln4VTrTvcW+msB1ReX57nJgsNfDLbV2dG8mLYQemBa9833DqDK6iynTLNq69y88ylose33o2TVtEccGp8Dqluv6yUAED14G6LexS43KtrXPgugAtsXE253ZDGUNwUggnN1i0MW2RcMqHdQ9ORDWvJUCeZj/AEafgPN8AyiLrZeL07jJz/uaRfAuNqkImCVIarKUX3HBCjl9TpuoMjcMhz/MsOmQ0agtCatO1eoH1sqv5Odvxb1i59c8Hvq/mGEXyRuoiDo05SE6IyXYXr84/Nf2xvVNHNQA6kTckj8shSi+HGM4mO1Y4Pbb7XcnxNkT0Inn6oJMSiy56P+CpAoGBAO1O+5FE1ZuVGuLb48cY+0lHCD+nhSBd66B5FrxgPYCkFOQWR7pWyfNDBlmO3SSooQ8TQXA25blrkDxzOAEGX57EPiipXr/hy5e+WNoukpy09rsO1TMsvC+v0FXLvZ+TIAkqfnYBgaT56ku7yZ8aFGMwdCPL7WJYAwUIcZX8wZ3dAoGBAMHWplAqhe4bfkGOEEpfs6VvEQxCqYMYVyR65K0rI1LiDZn6Ij8fdVtwMjGKFSZZTspmsqnbbuCE/VTyDzF4NpAxdm3cBtZACv1Lpu2Om+aTzhK2PI6WTDVTKAJBYegXaahBCqVbSxieR62IWtmOMjggTtAKWZ1P5LQcRwdkaB2rAoGAWnAPT318Kp7YcDx8whOzMGnxqtCc24jvk2iSUZgb2Dqv+3zCOTF6JUsV0Guxu5bISoZ8GdfSFKf5gBAo97sGFeuUBMsHYPkcLehM1FmLZk1Q+ljcx3P1A/ds3kWXLolTXCrlpvNMBSN5NwOKAyhdPK/qkvnUrfX8sJ5XK2H4J8ECgYAGIZ0HIiE0Y+g9eJnpUFelXvsCEUW9YNK4065SD/BBGedmPHRC3OLgbo8X5A9BNEf6vP7fwpIiRfKhcjqqzOuk6fueA/yvYD04v+Da2MzzoS8+hkcqF3T3pta4I4tORRdRfCUzD80zTSZlRc/h286Y2eTETd+By1onnFFe2X01mwKBgQDaxo4PBcLL2OyVT5DoXiIdTCJ8KNZL9+kV1aiBuOWxnRgkDjPngslzNa1bK+klGgJNYDbQqohKNn1HeFX3mYNfCUpuSnD2Yag53Dd/1DLO+NxzwvTu4D6DCUnMMMBVaF42ig31Bs0jI3JQZVqeeFzSET8fkoFopJf3G6UXlrIEAQ==&#x27;</span>,</span><br><span class=\"line\">        <span class=\"comment\">// 使用公钥证书模式，请配置下面两个参数，同时修改ali_public_key为以.crt结尾的支付宝公钥证书路径，如（./cert/alipayCertPublicKey_RSA2.crt）</span></span><br><span class=\"line\">        <span class=\"comment\">// &#x27;app_cert_public_key&#x27; =&gt; &#x27;./cert/appCertPublicKey.crt&#x27;, //应用公钥证书路径</span></span><br><span class=\"line\">        <span class=\"comment\">// &#x27;alipay_root_cert&#x27; =&gt; &#x27;./cert/alipayRootCert.crt&#x27;, //支付宝根证书路径</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;log&#x27;</span> =&gt; [ <span class=\"comment\">// optional</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;file&#x27;</span> =&gt; <span class=\"string\">&#x27;./logs/alipay.log&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;level&#x27;</span> =&gt; <span class=\"string\">&#x27;info&#x27;</span>, <span class=\"comment\">// 建议生产环境等级调整为 info，开发环境为 debug</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span> =&gt; <span class=\"string\">&#x27;single&#x27;</span>, <span class=\"comment\">// optional, 可选 daily.</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;max_file&#x27;</span> =&gt; <span class=\"number\">30</span>, <span class=\"comment\">// optional, 当 type 为 daily 时有效，默认 30 天</span></span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">&#x27;http&#x27;</span> =&gt; [ <span class=\"comment\">// optional</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;timeout&#x27;</span> =&gt; <span class=\"number\">5.0</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;connect_timeout&#x27;</span> =&gt; <span class=\"number\">5.0</span>,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">&#x27;mode&#x27;</span> =&gt; <span class=\"string\">&#x27;dev&#x27;</span>, <span class=\"comment\">// optional,设置此参数，将进入沙箱模式</span></span><br><span class=\"line\">    ];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 生成支付签名和参数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">index</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$order</span> = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;out_trade_no&#x27;</span> =&gt; <span class=\"string\">&#x27;213213211312&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一支付单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;total_amount&#x27;</span> =&gt; <span class=\"string\">&#x27;0.01&#x27;</span>,  <span class=\"comment\">// 支付金额 单位元</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;subject&#x27;</span> =&gt; <span class=\"string\">&#x27;test subject - 测试&#x27;</span>,</span><br><span class=\"line\">        ];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Pay::alipay(<span class=\"keyword\">$this</span>-&gt;config)-&gt;app(<span class=\"variable\">$order</span>)-&gt;getContent();</span><br><span class=\"line\">       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 异步回调</span></span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 验签</span></span><br><span class=\"line\">        <span class=\"variable\">$alipay</span> = Pay::alipay(<span class=\"keyword\">$this</span>-&gt;config);</span><br><span class=\"line\">        <span class=\"variable\">$data</span>   = <span class=\"variable\">$alipay</span>-&gt;verify();</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"variable\">$out_trade_no</span>   = <span class=\"variable\">$data</span>-&gt;out_trade_no;  <span class=\"comment\">// 商户自己生成的内部唯一支付单号</span></span><br><span class=\"line\">        <span class=\"variable\">$total_amount</span>   = <span class=\"variable\">$data</span>-&gt;total_amount;     <span class=\"comment\">// 支付金额 单位元</span></span><br><span class=\"line\">        <span class=\"variable\">$trade_no</span>       = <span class=\"variable\">$data</span>-&gt;trade_no;  <span class=\"comment\">// 交易流水号</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 发起退款申请</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">refund</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$refund_data</span> = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span>           =&gt; <span class=\"string\">&#x27;app&#x27;</span>,  <span class=\"comment\">// 标识为app 必填为app</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;trade_no&#x27;</span>       =&gt; <span class=\"string\">&#x27;2020123121212&#x27;</span>, <span class=\"comment\">// 原支付交易流水号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_request_no&#x27;</span> =&gt; <span class=\"string\">&#x27;3213213131213&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一退款单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;refund_amount&#x27;</span>  =&gt; <span class=\"string\">&#x27;0.01&#x27;</span>,  <span class=\"comment\">// 退款金额 单位元</span></span><br><span class=\"line\">        ];</span><br><span class=\"line\">        <span class=\"variable\">$result</span> =  Pay::alipay(<span class=\"keyword\">$this</span>-&gt;config)-&gt;refund(<span class=\"variable\">$refund_data</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((<span class=\"keyword\">string</span>)<span class=\"variable\">$result</span>-&gt;code !== <span class=\"string\">&#x27;10000&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 接口调用失败</span></span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> \\<span class=\"built_in\">Exception</span>(<span class=\"variable\">$result</span>-&gt;msg);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 接口调用成功</span></span><br><span class=\"line\">        &#125;       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 退款查询</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">query_refund</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$data</span> = [ </span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span>           =&gt; <span class=\"string\">&#x27;app&#x27;</span>, <span class=\"comment\">// 标识为app 必填为app</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_trade_no&#x27;</span>   =&gt; <span class=\"string\">&#x27;213213211312&#x27;</span>, <span class=\"comment\">// 原支付订单的内部唯一单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_request_no&#x27;</span> =&gt; <span class=\"string\">&#x27;3213213131213&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一退款单号</span></span><br><span class=\"line\">        ];</span><br><span class=\"line\">        <span class=\"variable\">$result</span> = Pay::alipay(<span class=\"keyword\">$this</span>-&gt;config)-&gt;find(<span class=\"variable\">$data</span>, <span class=\"string\">&#x27;refund&#x27;</span>);   </span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((<span class=\"keyword\">string</span>)<span class=\"variable\">$result</span>-&gt;code !== <span class=\"string\">&#x27;10000&#x27;</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 未查到或者到账失败</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 查到到账信息</span></span><br><span class=\"line\">            <span class=\"variable\">$trade_no</span> = <span class=\"variable\">$result</span>-&gt;trade_no;  <span class=\"comment\">// 退款交易单号</span></span><br><span class=\"line\">            <span class=\"variable\">$money</span> = <span class=\"variable\">$result</span>-&gt;refund_amount;  <span class=\"comment\">// 退款金额 单位元</span></span><br><span class=\"line\">        &#125;              </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"微信支付配置\"><a href=\"#微信支付配置\" class=\"headerlink\" title=\"微信支付配置\"></a>微信支付配置</h6><ul>\n<li>具体如何申请商户号和app支付功能参考<a href=\"https://jingyan.baidu.com/article/02027811706ea61bcd9ce54c.html\">这里</a></li>\n<li>具体配置参考<a href=\"https://app.applebyme.cn/doc/guide/wxpay.cshtml\">这里</a></li>\n</ul>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">App</span>\\<span class=\"title\">Http</span>\\<span class=\"title\">Controllers</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Yansongda</span>\\<span class=\"title\">Pay</span>\\<span class=\"title\">Pay</span>;</span><br><span class=\"line\"><span class=\"keyword\">use</span> <span class=\"title\">Yansongda</span>\\<span class=\"title\">Pay</span>\\<span class=\"title\">Log</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PayController</span></span></span><br><span class=\"line\"><span class=\"class\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"variable\">$config</span> = [</span><br><span class=\"line\">        <span class=\"string\">&#x27;appid&#x27;</span> =&gt; <span class=\"string\">&#x27;wxb3fxxxxxxxxxxx&#x27;</span>, <span class=\"comment\">// APP APPID</span></span><br><span class=\"line\">        <span class=\"comment\">//&#x27;app_id&#x27; =&gt; &#x27;wxb3fxxxxxxxxxxx&#x27;, // 公众号 APPID</span></span><br><span class=\"line\">        <span class=\"comment\">//&#x27;miniapp_id&#x27; =&gt; &#x27;wxb3fxxxxxxxxxxx&#x27;, // 小程序 APPID</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;mch_id&#x27;</span> =&gt; <span class=\"string\">&#x27;14577xxxx&#x27;</span>,  <span class=\"comment\">// 支付商户号id</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;key&#x27;</span> =&gt; <span class=\"string\">&#x27;mF2suE9sU6Mk1Cxxxxxxxxxxx&#x27;</span>,  <span class=\"comment\">// api支付秘钥</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;notify_url&#x27;</span> =&gt; <span class=\"string\">&#x27;http://yanda.net.cn/notify.php&#x27;</span>,  <span class=\"comment\">// 异步回调地址</span></span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"comment\">// api支付证书</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;cert_client&#x27;</span> =&gt; <span class=\"string\">&#x27;./cert/apiclient_cert.pem&#x27;</span>, <span class=\"comment\">// optional，退款等情况时用到</span></span><br><span class=\"line\">        <span class=\"string\">&#x27;cert_key&#x27;</span> =&gt; <span class=\"string\">&#x27;./cert/apiclient_key.pem&#x27;</span>,<span class=\"comment\">// optional，退款等情况时用到</span></span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"string\">&#x27;log&#x27;</span> =&gt; [ <span class=\"comment\">// optional</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;file&#x27;</span> =&gt; <span class=\"string\">&#x27;./logs/wechat.log&#x27;</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;level&#x27;</span> =&gt; <span class=\"string\">&#x27;info&#x27;</span>, <span class=\"comment\">// 建议生产环境等级调整为 info，开发环境为 debug</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span> =&gt; <span class=\"string\">&#x27;single&#x27;</span>, <span class=\"comment\">// optional, 可选 daily.</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;max_file&#x27;</span> =&gt; <span class=\"number\">30</span>, <span class=\"comment\">// optional, 当 type 为 daily 时有效，默认 30 天</span></span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">&#x27;http&#x27;</span> =&gt; [ <span class=\"comment\">// optional</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;timeout&#x27;</span> =&gt; <span class=\"number\">5.0</span>,</span><br><span class=\"line\">            <span class=\"string\">&#x27;connect_timeout&#x27;</span> =&gt; <span class=\"number\">5.0</span>,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"string\">&#x27;mode&#x27;</span> =&gt; <span class=\"string\">&#x27;dev&#x27;</span>, <span class=\"comment\">// optional, dev/hk;当为 `hk` 时，为香港 gateway。</span></span><br><span class=\"line\">    ];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 生成支付签名和参数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">index</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$order</span> = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;out_trade_no&#x27;</span> =&gt; <span class=\"string\">&#x27;213213211312&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一支付单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;total_fee&#x27;</span> =&gt; <span class=\"string\">&#x27;1&#x27;</span>,  <span class=\"comment\">// 支付金额 单位分</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;body&#x27;</span> =&gt; <span class=\"string\">&#x27;test subject - 测试&#x27;</span>,</span><br><span class=\"line\">        ];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Pay::wechat(<span class=\"keyword\">$this</span>-&gt;config)-&gt;app(<span class=\"variable\">$order</span>)-&gt;getContent();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 异步回调</span></span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">notify</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 验签</span></span><br><span class=\"line\">        <span class=\"variable\">$wechat</span> = Pay::wechat(<span class=\"keyword\">$this</span>-&gt;config);</span><br><span class=\"line\">        <span class=\"variable\">$data</span>   = <span class=\"variable\">$wechat</span>-&gt;verify();</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"variable\">$out_trade_no</span>   = <span class=\"variable\">$data</span>-&gt;out_trade_no;  <span class=\"comment\">// 商户自己生成的内部唯一支付单号</span></span><br><span class=\"line\">        <span class=\"variable\">$total_fee</span>      = <span class=\"variable\">$data</span>-&gt;total_fee;     <span class=\"comment\">// 支付金额 单位分</span></span><br><span class=\"line\">        <span class=\"variable\">$transaction_id</span> = <span class=\"variable\">$data</span>-&gt;transaction_id;  <span class=\"comment\">// 交易流水号</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">// 发起退款申请</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">refund</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$refund_data</span> = [</span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span>           =&gt; <span class=\"string\">&#x27;app&#x27;</span>,  <span class=\"comment\">// 标识为app 必填为app</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;transaction_id&#x27;</span> =&gt; <span class=\"string\">&#x27;2020123121212&#x27;</span>, <span class=\"comment\">// 原支付交易流水号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_refund_no&#x27;</span>  =&gt; <span class=\"string\">&#x27;3213213131213&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一退款单号</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;refund_fee&#x27;</span>     =&gt; <span class=\"string\">&#x27;1&#x27;</span>,  <span class=\"comment\">// 退款金额 单位分</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;total_fee&#x27;</span>      =&gt; <span class=\"string\">&#x27;1&#x27;</span>,  <span class=\"comment\">// 原支付金额 单位分</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;refund_desc&#x27;</span>    =&gt; <span class=\"string\">&#x27;退款测试&#x27;</span>,  </span><br><span class=\"line\">        ];</span><br><span class=\"line\">        <span class=\"variable\">$result</span> =  Pay::wechat(<span class=\"keyword\">$this</span>-&gt;config)-&gt;refund(<span class=\"variable\">$refund_data</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((<span class=\"keyword\">string</span>)<span class=\"variable\">$result</span>-&gt;return_code !== <span class=\"string\">&#x27;SUCCESS&#x27;</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 接口调用失败</span></span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> \\<span class=\"built_in\">Exception</span>(<span class=\"variable\">$result</span>-&gt;return_msg);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 接口调用成功</span></span><br><span class=\"line\">        &#125;       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 退款查询</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">query_refund</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"variable\">$data</span> = [ </span><br><span class=\"line\">            <span class=\"string\">&#x27;type&#x27;</span>           =&gt; <span class=\"string\">&#x27;app&#x27;</span>, <span class=\"comment\">// 标识为app 必填为app</span></span><br><span class=\"line\">            <span class=\"string\">&#x27;out_refund_no&#x27;</span>  =&gt; <span class=\"string\">&#x27;3213213131213&#x27;</span>,  <span class=\"comment\">// 商户自己生成的内部唯一退款单号</span></span><br><span class=\"line\">        ];</span><br><span class=\"line\">        <span class=\"variable\">$result</span> = Pay::wechat(<span class=\"keyword\">$this</span>-&gt;config)-&gt;find(<span class=\"variable\">$data</span>, <span class=\"string\">&#x27;refund&#x27;</span>);   </span><br><span class=\"line\">        <span class=\"keyword\">if</span> ((<span class=\"keyword\">string</span>)<span class=\"variable\">$result</span>-&gt;return_code !== <span class=\"string\">&#x27;SUCCESS&#x27;</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 未查到或者到账失败</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 查到到账信息 多笔根据下标取, 下标从0开始</span></span><br><span class=\"line\">            <span class=\"variable\">$trade_no</span> = <span class=\"variable\">$result</span>-&gt;refund_id_0;  <span class=\"comment\">// 退款交易单号</span></span><br><span class=\"line\">            <span class=\"variable\">$money</span> = <span class=\"variable\">$result</span>-&gt;refund_fee_0;  <span class=\"comment\">// 退款金额 单位分</span></span><br><span class=\"line\">        &#125;              </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"}],"PostAsset":[],"PostCategory":[{"post_id":"ckngrcixf0003z6db5jt8cvzo","category_id":"ckngrcixi0006z6db46er34wj","_id":"ckngrcixm000cz6db683bg97j"},{"post_id":"ckngrcixh0005z6db2ahb4xpr","category_id":"ckngrcixm000az6dbb0lqb3oq","_id":"ckngrcixp000iz6dbf13varsh"},{"post_id":"ckngrcixk0008z6dbejzjhmrv","category_id":"ckngrcixm000az6dbb0lqb3oq","_id":"ckngrcixq000lz6db5994bhd4"},{"post_id":"ckngrcixl0009z6dbc4p2d3j6","category_id":"ckngrcixm000az6dbb0lqb3oq","_id":"ckngrcixq000oz6db4w1w5ql5"}],"PostTag":[{"post_id":"ckngrcixf0003z6db5jt8cvzo","tag_id":"ckngrcixj0007z6dbgah8e5nn","_id":"ckngrcixo000fz6db4kca35n5"},{"post_id":"ckngrcixf0003z6db5jt8cvzo","tag_id":"ckngrcixm000bz6dbf6341tay","_id":"ckngrcixp000gz6dbcrj3b8jw"},{"post_id":"ckngrcixh0005z6db2ahb4xpr","tag_id":"ckngrcixn000ez6db7r3774w5","_id":"ckngrcixp000kz6db2emvh00c"},{"post_id":"ckngrcixk0008z6dbejzjhmrv","tag_id":"ckngrcixn000ez6db7r3774w5","_id":"ckngrcixq000nz6db6ry07izy"},{"post_id":"ckngrcixl0009z6dbc4p2d3j6","tag_id":"ckngrcixn000ez6db7r3774w5","_id":"ckngrcixr000qz6db1g4ffqzq"},{"post_id":"ckngrcixl0009z6dbc4p2d3j6","tag_id":"ckngrcixq000pz6db3kqvcvkb","_id":"ckngrcixr000rz6dbg1cuc98q"}],"Tag":[{"name":"linux","_id":"ckngrcixj0007z6dbgah8e5nn"},{"name":"centos","_id":"ckngrcixm000bz6dbf6341tay"},{"name":"php","_id":"ckngrcixn000ez6db7r3774w5"},{"name":"app","_id":"ckngrcixq000pz6db3kqvcvkb"}]}}